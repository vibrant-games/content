#
# Vibrant Games NPC file format.
#
# For long fields, we should be able to embed <html-tag>...</html-tag>s,
# if everyone is cool with that approach.  OR we could use markdown instead.
#
# HTML requires more discipline -- we need to come up with a CSS stylesheet,
# and stick to using the styles defined in our stylesheet.  Markdown is
# simpler, because we can convert and automagically apply the stylesheet.
#
# Long fields are of the form:
#
#     field: |
#       TEMPLATE
#       MORE TEMPLATE
#
# For example, with HTML tags:
#
#     field: |
#       <p> Gorbonzonger the goblin is a very bad goblin.
#       He likes to beat up kobolds. </p>
#       <p class="small"> Kobolds deserve it, anyway. </p>
#       <p> Gorbonzonger has an amulet made of camphor
#       and a very long shopping list that contains many
#       items, some very few of which include: </p>
#       <ul>
#       <li> toilet paper </li>
#       <li> broccoli </li>
#       </ul>
#
# Or with Markdown:
#
#     field: |
#       Gorbonzonger the goblin is a very bad goblin.  He likes to beat up kobolds.
#       Kobolds deserve it, anyway.
#       Gorbonzonger has an amulet made of camphor and a very long shopping list that contains many items, some very few of which include:
#       - toilet paper
#       - broccoli
#
# (There might be other formatting systems worth considering, too!)
#

#
# Currently there is no schema for this template.
# It will take some time to create a validating schema, so that,
# for example, many fields are optional, but some fields are
# required; enumerated fields are only allowed to have certain
# values; and so on.
#
# Once the validating schema is created (probably using
# Open API syntax, unless anyone has any preferences), we'll
# be able to validate submissions and accept / reject if we choose.
#
# Also the validating file format is the ONLY place we do
# content validation.  The database and user interface remain
# agnostic to the validation rules (although the submission
# UI will be set up to make it easy to e.g. pull down enumerated
# values).  This allows us to change the schema in ONE PLACE
# ONLY, not have to modify multiple components (UI, database,
# future mobile apps, etc).  The file format validator is
# the arbiter of what's allowed and what isn't.
#

#
# Template NPC:
#

---

#
# Preliminary fields that describe this overall file:
#
kind: vibrantgames.ca/npc
version: 0.0.2

#
# Information about who submitted the data, when, how, etc.:
#
metadata:
  #
  # A unique identified for this submission.
  # Eventually auto-generated.
  # For now, I suggest: convert the character name to lower case,
  # and replace all spaces and punctuation with underscores (_)
  #
  id: mordechai_dumas

  #
  # The name of the submitter (your name).
  #
  author: Mike Rigby

  #
  # Email address of the submitter.
  #
  email: rigbyma@hotmail.com

  #
  # Date the NPC was created.
  # Must be in ISO 8601 format.
  # You can include the time if you want.
  #
  # E.g. "2021-12-31"
  #      "2021-12-31 23:59:59"
  #
  date: "2021-03-20"

  #
  # Arbitrary labels that are opaque to the system, only
  # potentially useful to humans.  For example, the original
  # WordPress id of a character (1234 etc).
  #
  # Optional.
  #
  labels:
  - label_template_1: TEMPLATE
  - label_template_2: TEMPLATE
  - label_template_3: TEMPLATE

  #
  # In future more metadata will likely be needed.
  # How the data was submitted, some kind of digital
  # signature giving Vibrant Games license to basically
  # use the content however it chooses, etc...
  #

#
# The content:
#
npc:
  #
  # Full name of the NPC.
  #
  # Required.
  # Max length: ...
  #
  name: Mordechai Dumas

  #
  # The NPC artwork.
  # Comment out this field if it does not yet exist.
  # The filename can include a RELATIVE path:
  #     path/to/my/image.jpg
  # But it CANNOT be an absolute path:
  #     C:\path\to\my\image.jpg
  # For now let us keep all images in one directory,
  # at least until that becomes a scaling nightmare.
  #
  image: TEMPLATE_McTEMPLATESON.jpg

  #
  # Race, class, etc.
  # The taupe block on the left of the page.
  #
  traits:

    #
    # Ages (case insensitive):
    #   - child
    #   - adolescent
    #   - young adult
    #   - middle aged adult
    #   - older adult
    #   - elderly
    #
    # Required.
    #
    age: Older Adult

    #
    # Races (case insensitive):
    #   - dragonborn
    #   - drow
    #   - dwarf
    #   - duergar
    #   - elf
    #   - gnome
    #   - half-elf
    #   - halfling
    #   - half-orc
    #   - human
    #   - orc
    #   - tiefling
    #
    # Any other race is allowed, too.
    #
    # Required.
    # Max length: ...
    #
    race: Human

    #
    # The sub-race can be anything.
    # For example, swamp gnome or red elf etc.
    #
    # Optional.  Can be commented out.
    # Max length: ...
    #
    sub-race: N/A

    #
    # Pronouns (case insensitive):
    # - he/him
    # - she/her
    # - they/them
    #
    # Required.
    #
    pronouns: he/him

    #
    # Occupation(s).
    #
    # Required.
    # Max length per occupation: ...
    #
    occupation:
    - Librarian / Record Keeper

    #
    # D & D classes (case insensitive):
    # - civilian
    # - artificer
    # - barbarian
    # - bard
    # - blood hunter
    # - cleric
    # - druid
    # - fighter
    # - monk
    # - paladin
    # - ranger
    # - rogue
    # - shaman
    # - sorcerer
    # - warlock
    # - wizard
    #
    # Required.
    #
    class: Wizard

    #
    # D & D subclasses (case insensitive):
    # - civilian
    # - alchemist
    # - Path of the Berserker
    # - College of Lore
    # - Order of the Profane Soul
    # - Grave Domain
    # - Cirlce of the Moon
    # - Battle Master
    # - Way of Shadow
    # - Oath of Redemption
    # - Gloom Stalker
    # - Thief
    # - Path of the Spirit
    # - Aberrant Mind
    # - Hexblade
    # - School of Abjuration
    #
    # Required.
    #
    subclass: Order of Scribes

    #
    # Class level.
    # 0 for civilian.
    #
    # Required.
    # Integer.
    #
    level: 18

    #
    # Alignments (case insensitive):
    # - lawful good
    # - lawful neutral
    # - lawful evil
    # - neutral good
    # - neutral
    # - neutral evil
    # - chaotic good
    # - chaotic neutral
    # - chaotic evil
    #
    # Required.
    #
    alignment: Neutral

    #
    # Alignment tendencies:
    # same as alignment, can be 0 or more.
    #
    # Optional.
    #
    tendencies:
    - N/A

    #
    # Languages the character speaks
    # (human, dwarvish, etc).
    #
    # We should use whatever the D & D language names
    # are (dwarvish / dwarven / dwarfish / whatever).
    #
    # Anybody want to list the D & D languages here as examples?
    #
    # 0 o more.  (I.e. optional, but most characters speak at least 1.)
    #
    languages:
    - Common
    - Undercommon
    - Infernal
    - Abyssal
    - Celestial

    #
    # Factions:
    # These should be ids of factions (similar YAML file format, eventually).
    # For example:
    #
    # factions:
    # - id: thieves_guild_of_poliwood
    #   name: Thieves Guild of Poliwood
    #   role: Associate Professor of Lockpicking
    # - id: union_of_seamstresses
    #   name: Union of Seamstresses
    #   role: Window dressing
    # - id: cult_of_sky_anthologies
    #   name: Cult of Sky Anthologies
    #   role: Going Clear Sky pastor
    #
    # Optional.  0 or more.
    #
    factions:
    - id: Dumas_Family
      name: Dumas Family
      role: Record Keeper, Lore Master

    #
    # Adjectives or other tags that can be used for searching.
    #
    # Optional.  0 or more.
    #
    adjectives:
    - Studious
    - Intelligent
    - Timid

  improv:

    #
    # Introduction:
    # A block of text the DM can read out to the party.
    # A hooded dwarf darts in front of your party and blows a loud, shrill whistle, splitting your ears, before he runs away laughing.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    introduction:  The librarian approaches quietly whispering - /"Fiction? History? Religion? Arcana? What can I interest you in?/"

    #
    # Appearance: a brief description of the character skin, clothes, hair, eyes, etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    appearance:   Abnormally tall and gaunt, in finely tailored robes. Whisps of red hair string across his mostly bald head.

    #
    # Expressions: things the character says all the time, making their speech distinctive.
    # Like, oh my gods!
    # Detritus!
    # Whoah
    # Silly goose
    # etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    expressions:
    - "The story of my family and the story of the world can be found in these books"

    #
    # Mannerisms: what does the character do with their hands?  And eyes, mouth, etc.
    # Do they tap their feet incessantly?  sniff their own underarms to figure out where the odour
    # is coming from?  Etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    mannerisms:   frequently removes and polishes his glasses

  acting:
    #
    # Motivations:
    #
    # Required.
    # ???Maximum length???
    #
    motivations: |
      Knowledge

    #
    # Passions:
    #
    # Required.
    # ???Maximum length???
    #
    passions: |
      Books, History and Lore

    #
    # Vulnerabilities:
    #
    # Required.
    # ???Maximum length???
    #
    vulnerabilities: |
      His thirst for knowledge has lead him down some dark paths

    #
    # Secrets:
    #
    # Required.
    # ???Maximum length???
    #
    secrets: |
      He knows all of the family secrets, even ones the rest of the family doesn't.

  #
  # The D & D stats block:
  # All integers.
  #
  stats:
    armour-class: 15
    hit-points: 112
    speed: 30
    str: 10
    dex: 16
    con: 18
    int: 26
    wis: 22
    cha: 12

  #
  # Special characteristics.
  #
  # Each is:
  # ???Optional???
  # ???Max length???
  #
  specialties:
    saving-throws:
    - Constitution
    - Intelligence
    - Wisdom
    damage-immunities:
    - Necrotic
    condition-immunities:
    - Frightened, Charmed
    resistances:
    - Fire
    skills:
    - Librarian
    proficiencies:
    - Arcana
    - History
    - Investigation    
    - Insight
    - Medicine
    - Nature
    - Perception
    - Religion
  special-abilities:
  - title: Wizard Abilities
  - abilities:
    - title: Arcane Recovery
    - content: After a short rest can recover a spell slot up to 3rd level
    - title: Spell Mastery
    - content: Choose a 1st-level Wizard spell and a 2nd-level Wizard spell that are in your Spellbook. You can cast those Spells at their lowest level without expending a spell slot when you have them prepared. 
               If you want to cast either spell at a higher level, you must expend a spell slot as normal - Detect Magic and Detect Thoughts
  - title: Spellcasting
  - abilities:
    - title: Spell DC
    - content: 22   
    - title: Cantrips
    - content: Mending, Message, Mage Hand, Fire Bolt, Light, Dancing Lights, Minor Illusion
    - title: 1st Level
    - content: Alarm, Charm Person, Comprehend Languages, Detect Magic, Find Familiar, Floating Disk, Identify, Illusory Script, Magic Missle, Shield, Unseen Servant, Fog Cloud
    - title: 2nd Level
    - content: Arcane Lock, Arcanist's Magic Aura, Blindness/Deafness, Detect Thoughts, Hold Person, Invisibility, Knock, Locate Object, Misty Step, Suggestion
    - title: 3rd Level
    - content: Animate Dead, Clairvoyance, Counterspell, Dispel Magic, Fireball, Fly, Slow, Tiny Hut, Tongues, Vampiric Touch, Fear, Lightning Bolt, Sending
    - title: 4th Level
    - content: Arcane Eye, Banishment, Black Tenticles, Dimension Door, Greater Invisibility, Ice Storm, Locate Creature, Polymorph, Private Sanctum, Wall of Fire
    - title: 5th Level
    - content: Animate Objects, Cloudkill, Contact Other Plane, Dominate Person, Hold Monster, Legend Lore, Modify Memory, Scrying, Telekinesis, Telepathic Bond, Teleportation Circle, Arcane Hand
    - title: 6th Level
    - content: Chain Lightning, Create Undead, Disintegrate, Guards and Wards, Instant Summons, Mass Suggestion, Move Earth, True Seeing, Circle of Death
    - title: 7th Level
    - content: Delayed Blast Fireball, Etherealness, Finger of Death, Magnificent Mansion, Plane Shift, Project Image, Reverse Gravilty, Simulacrum, Symbol, Teleport
    - title: 8th Level
    - content: Antimagic Field, Clone, Demiplane, Domnate Monster, Feeblemind, Maze, Mind Blank, Power Word Stun
    - title: 9th Level
    - content: Astral Projection, Foresight, Gate, Power Word Kill, Shapechange, Time Stop, True Polymorph, Wish
  - title: Order of Scribes Abilities
  - abilities: 
    - title: Wizardly Quill
    - content: As a bonus action, you can magically create a Tiny quill in your free hand. The magic quill has the following properties
               The quill doesn’t require ink. When you write with it, it produces ink in a color of your choice on the writing surface.
               The time you must spend to copy a spell into your spell book equals 2 minutes per spell level if you use the quill for the transcription.
               You can erase anything you write with the quill if you wave the feather over the text as a bonus action, provided the text is within 5 feet of you.
               This quill disappears if you create another one or if you die
    - title: Awakened Spellbook
    - content: Using specially prepared inks and ancient incantations passed down by your wizardly order, you have awakened an arcane sentience within your spellbook. At 2nd level, while you are holding the book, 
               it grants you the following benefits - 
               You can use the book as a spellcasting focus for your wizard spells.
               When you cast a wizard spell with a spell slot, you can temporarily replace its damage type with a type that appears in another spell in your spellbook, which magically alters the spell's formula 
               for this casting only. The latter spell must be of the same level as the spell slot you expend.
               When you cast a wizard spell as a ritual, you can use the spell's normal casting time, rather than adding 10 minutes to it. Once you use this benefit, you can't do so again until you finish a long 
               rest.
               If necessary, you can replace the book over the course of a short rest by using your Wizardly Quill to write arcane sigils in a blank book or a magic spellbook to which you're attuned. At the end 
               of the rest, your spellbook's consciousness is summoned into the new book, which the consciousness transforms into your spellbook, along with all its spells. If the previous book still existed 
               somewhere, all the spells vanish from its pages.
    - title: Manifest Mind
    - content: You can conjure forth the mind of your Awakened Spellbook. As a bonus action while the book is on your person, you can cause the mind to manifest as a Tiny spectral object, hovering in an unoccupied space
               of your choice within 60 feet of you. The spectral mind is intangible and doesn't occupy its space, and it sheds dim light in a 10-foot radius. It looks like a ghostly tome, a cascade of text, or a 
               scholar from the past (your choice). While manifested, the spectral mind can hear and see, and it has darkvision with a range of 60 feet. The mind can telepathically share with you what it sees and hears
               (no action required). Whenever you cast a wizard spell on your turn, you can cast it as if you were in the spectral mind's space, instead of your own, using its senses. You can do so a number of times per
               day equal to your proficiency bonus, and you regain all expended uses when you finish a long rest. As a bonus action, you can cause the spectral mind to hover up to 30 feet to an unoccupied space that you
               or it can see. It can pass through creatures but not objects. The spectral mind stops manifesting if it is ever more than 300 feet away from you, if someone casts Dispel Magic on it, if the Awakened 
               Spellbook is destroyed, if you die, or if you dismiss the spectral mind as a bonus action. Once you conjure the mind, you can't do so again until you finish a long rest, unless you expend a spell slot of 
               any level to conjure it again.
    - title: Master Scrivner
    - content: Whenever you finish a long rest, you can create one magic scroll by touching your Wizardly Quill to a blank piece of paper or parchment and causing one spell from your Awakened Spellbook to be copied 
               onto the scroll. The spellbook must be within 5 feet of you when you make the scroll. The chosen spell must be of 1st or 2nd level and must have a casting time of 1 action. Once in the scroll, the 
               spell's power is enhanced, counting as one level higher than normal. You can cast the spell from the scroll by reading it as an action. The scroll is unintelligible to anyone else, and the spell 
               vanishes from the scroll when you cast it or when you finish your next long rest. You are also adept at crafting spell scrolls, which are described in the treasure chapter of the Dungeon Master's Guide.
               The gold and time you must spend to make such a scroll are halved if you use your Wizardly Quill
    - title: One with the Word
    - content: Your connection to your Awakened Spellbook has become so profound that your soul has become entwined with it. While the book is on your person, you have advantage on all Intelligence (Arcana) checks, 
               as the spellbook helps you remember magical lore. Moreover, if you take damage while your spellbook's mind is manifested, you can prevent all of that damage to you by using your reaction to dismiss 
               the spectral mind, using its magic to save yourself. Then roll 3d6. The spellbook temporarily loses spells of your choice that have a combined spell level equal to that roll or higher. For example, 
               if the roll's total is 9, spells vanish from the book that have a combined level of at least 9, which could mean one 9th-level spell, three 3rd-level spells, or some other combination. If there aren't
               enough spells in the book to cover this cost, you drop to 0 hit points. Until you finish 1d6 long rests, you are incapable of casting the lost spells, even if you find them on a scroll or in another
               spellbook. After you finish the required number of rests, the spells reappear in the spell book. Once you use this reaction, you can't do so again until you finish a long rest
 
  - title: Feats
  - content: Keen Mind, Observant, Prodigy, Ritual Caster, Spell Sniper, Telepathic, War Caster
  - title: Legendary Resistance
  - content: (3/Day), If Mordechai Dumas fails a saving throw she can choose to succeed instead 
  - title: Legendary Actions 
  - content: Mordechai Dumas can take 3 Legendary Actions. Choosing from the options from below, Only one Legendary Action can be used at a time and only at the end of another creature's turn. 
             Mordechai Dumas regains spent Legendary Actions at the start of her turn
  - abilities:
    - title: Devil's Portal
    - content: Mordechai Dumas can cast Gate, opening a portal and send one person who fails a DC 15 Dexterity directly to the realm of her master for 1 minute
    - title: Scholars Escape
    - content: Mordechai Dumas casts Misty Step
    - title: Devil's Children
    - content: Mordechai Dumas can cast Gate, opening a portal to summon up to 5 lesser devils and/or minor undead to join the fight  
  - title: Attacks
  - content: He wont fight unless absolutely pressed. He will summon others to fight for him
  - title: Combat Tactics
  - content: Spellcasting
  
  - title: Special Equipment
  - abilities:
    - title: Awakened Spellbook and His Quill is his arcane focus
    - content: see above
    - title: Ring of Protection +2
    - content: The wearer gains +2 to their AC and +2 on all Saving Throws
    - title: Ring of Mind Sheilding
    - content: While wearing this ring, you are immune to magic that allows other Creatures to read your thoughts, determine whether you are lying, know your Alignment, or know your Creature Type. Creatures can telepathically 
               communicate with you only if you allow it.
               You can use an action to cause the ring to become Invisible until you use another action to make it visible, until you remove the ring, or until you die.
               If you die while wearing the ring, your soul enters it, unless it already houses a soul. You can remain in the ring or depart for The Afterlife. As long as your soul is in the ring, you can telepathically 
               communicate with any creature wearing it. A wearer can't prevent this Telepathic Communication.    

  profile:

    #
    # Background story:
    # The long form character development.
    #
    # Required.
    # No length limit for now.
    #
    background-story: |
      Mordechai Dumas is the youngest son of Anastasia and the record keeper and lore master of the family. After his fathers untimely murder and his mothers transformation, Mordechai retreated into the safety of his books. 
      He grew to become an accomplished scholar and as his knowledge grew, so did his magical prowess. His studies lead him deep into the history of the Dumas family and His mothers family as well. 
      He has uncovered and recorded many secrets unknown to the rest of the family. While most of the family believes that their power comes from Anastasias pact with their patron to gain vengeance on her husbands murderers, 
      Mordechai knows that their parton has been manipulating the two families for centuries, and had in fact, engineered the marriage between Saul Dumas and Anastasia Lavaux. The devil has been steering the clans to this 
      point in history to help with his attempt to ascend to power in the nine hells. Mordechai has not passed along this information to the rest of the family and is unsure how he feels about he and his family being 
      the unwitting instuments of a devil or what to do about it.

    #
    # Personality (or something like that):
    # Expand on the introduction, appearance, expressions, mannerisms, etc.
    # without any length limits.
    #
    # Required.
    # No length limit for now.
    #
    personality: |
      Mordechai Dumas is abonormally tall and thin. Whispy red hair brushes across his mostly bald head. His thick glasses sit on top of his large, angular nose obsucring his familial violet eyes. He wears finely tailored robes 
      and is never without a book in his hands. He is quiet and scholarly and mostly keeps to himself. He spends most of his time travelling and researching in libraries throughout the realm, gathering knowledge and power. 
      Hes not a very social individual, but can definitely be engaged in scholarly conversations and debates    
