#
# Vibrant Games NPC file format.
#
# For long fields, we should be able to embed <html-tag>...</html-tag>s,
# if everyone is cool with that approach.  OR we could use markdown instead.
#
# HTML requires more discipline -- we need to come up with a CSS stylesheet,
# and stick to using the styles defined in our stylesheet.  Markdown is
# simpler, because we can convert and automagically apply the stylesheet.
#
# Long fields are of the form:
#
#     field: |
#       TEMPLATE
#       MORE TEMPLATE
#
# For example, with HTML tags:
#
#     field: |
#       <p> Gorbonzonger the goblin is a very bad goblin.
#       He likes to beat up kobolds. </p>
#       <p class="small"> Kobolds deserve it, anyway. </p>
#       <p> Gorbonzonger has an amulet made of camphor
#       and a very long shopping list that contains many
#       items, some very few of which include: </p>
#       <ul>
#       <li> toilet paper </li>
#       <li> broccoli </li>
#       </ul>
#
# Or with Markdown:
#
#     field: |
#       Gorbonzonger the goblin is a very bad goblin.  He likes to beat up kobolds.
#       Kobolds deserve it, anyway.
#       Gorbonzonger has an amulet made of camphor and a very long shopping list that contains many items, some very few of which include:
#       - toilet paper
#       - broccoli
#
# (There might be other formatting systems worth considering, too!)
#

#
# Currently there is no schema for this template.
# It will take some time to create a validating schema, so that,
# for example, many fields are optional, but some fields are
# required; enumerated fields are only allowed to have certain
# values; and so on.
#
# Once the validating schema is created (probably using
# Open API syntax, unless anyone has any preferences), we'll
# be able to validate submissions and accept / reject if we choose.
#
# Also the validating file format is the ONLY place we do
# content validation.  The database and user interface remain
# agnostic to the validation rules (although the submission
# UI will be set up to make it easy to e.g. pull down enumerated
# values).  This allows us to change the schema in ONE PLACE
# ONLY, not have to modify multiple components (UI, database,
# future mobile apps, etc).  The file format validator is
# the arbiter of what's allowed and what isn't.
#

#
# Template NPC:
#

---

#
# Preliminary fields that describe this overall file:
#
kind: vibrantgames.ca/npc
version: 0.0.2

#
# Information about who submitted the data, when, how, etc.:
#
metadata:
  #
  # A unique identified for this submission.
  # Eventually auto-generated.
  # For now, I suggest: convert the character name to lower case,
  # and replace all spaces and punctuation with underscores (_)
  #
  id: Sister_Uriah_Quartz

  #
  # The name of the submitter (your name).
  #
  author: Mike Rigby

  #
  # Email address of the submitter.
  #
  email: rigbyma@hotmail.com

  #
  # Date the NPC was created.
  # Must be in ISO 8601 format.
  # You can include the time if you want.
  #
  # E.g. "2021-12-31"
  #      "2021-12-31 23:59:59"
  #
  date: "2021-04-25"

  #
  # Arbitrary labels that are opaque to the system, only
  # potentially useful to humans.  For example, the original
  # WordPress id of a character (1234 etc).
  #
  # Optional.
  #
  labels:
  - label_template_1: TEMPLATE
  - label_template_2: TEMPLATE
  - label_template_3: TEMPLATE

  #
  # In future more metadata will likely be needed.
  # How the data was submitted, some kind of digital
  # signature giving Vibrant Games license to basically
  # use the content however it chooses, etc...
  #

#
# The content:
#
npc:
  #
  # Full name of the NPC.
  #
  # Required.
  # Max length: ...
  #
  name: Sister Uriah Quartz

  #
  # The NPC artwork.
  # Comment out this field if it does not yet exist.
  # The filename can include a RELATIVE path:
  #     path/to/my/image.jpg
  # But it CANNOT be an absolute path:
  #     C:\path\to\my\image.jpg
  # For now let us keep all images in one directory,
  # at least until that becomes a scaling nightmare.
  #
  image: TEMPLATE_McTEMPLATESON.jpg

  #
  # Race, class, etc.
  # The taupe block on the left of the page.
  #
  traits:

    #
    # Ages (case insensitive):
    #   - child
    #   - adolescent
    #   - young adult
    #   - middle aged adult
    #   - older adult
    #   - elderly
    #
    # Required.
    #
    age: Older Adult

    #
    # Races (case insensitive):
    #   - dragonborn
    #   - drow
    #   - dwarf
    #   - duergar
    #   - elf
    #   - gnome
    #   - half-elf
    #   - halfling
    #   - half-orc
    #   - human
    #   - orc
    #   - tiefling
    #
    # Any other race is allowed, too.
    #
    # Required.
    # Max length: ...
    #
    race: Dwarf

    #
    # The sub-race can be anything.
    # For example, swamp gnome or red elf etc.
    #
    # Optional.  Can be commented out.
    # Max length: ...
    #
    sub-race: Hill Dwarf

    #
    # Pronouns (case insensitive):
    # - he/him
    # - she/her
    # - they/them
    #
    # Required.
    #
    pronouns: she/her

    #
    # Occupation(s).
    #
    # Required.
    # Max length per occupation: ...
    #
    occupation:
    - Dead Hunter

    #
    # D & D classes (case insensitive):
    # - civilian
    # - artificer
    # - barbarian
    # - bard
    # - blood hunter
    # - cleric
    # - druid
    # - fighter
    # - monk
    # - paladin
    # - ranger
    # - rogue
    # - shaman
    # - sorcerer
    # - warlock
    # - wizard
    #
    # Required.
    #
    class: Fighter/Cleric

    #
    # D & D subclasses (case insensitive):
    # - civilian
    # - alchemist
    # - Path of the Berserker
    # - College of Lore
    # - Order of the Profane Soul
    # - Grave Domain
    # - Cirlce of the Moon
    # - Battle Master
    # - Way of Shadow
    # - Oath of Redemption
    # - Gloom Stalker
    # - Thief
    # - Path of the Spirit
    # - Aberrant Mind
    # - Hexblade
    # - School of Abjuration
    #
    # Required.
    #
    subclass: Rune Knight/Twilight Domain

    #
    # Class level.
    # 0 for civilian.
    #
    # Required.
    # Integer.
    #
    level: 10/18

    #
    # Alignments (case insensitive):
    # - lawful good
    # - lawful neutral
    # - lawful evil
    # - neutral good
    # - neutral
    # - neutral evil
    # - chaotic good
    # - chaotic neutral
    # - chaotic evil
    #
    # Required.
    #
    alignment: Lawful Good

    #
    # Alignment tendencies:
    # same as alignment, can be 0 or more.
    #
    # Optional.
    #
    tendencies:
    - N/A

    #
    # Languages the character speaks
    # (human, dwarvish, etc).
    #
    # We should use whatever the D & D language names
    # are (dwarvish / dwarven / dwarfish / whatever).
    #
    # Anybody want to list the D & D languages here as examples?
    #
    # 0 o more.  (I.e. optional, but most characters speak at least 1.)
    #
    languages:
    - Common
    - Dwarf
    - Infernal
    - Abyssal
    - Giant

    #
    # Factions:
    # These should be ids of factions (similar YAML file format, eventually).
    # For example:
    #
    # factions:
    # - id: thieves_guild_of_poliwood
    #   name: Thieves Guild of Poliwood
    #   role: Associate Professor of Lockpicking
    # - id: union_of_seamstresses
    #   name: Union of Seamstresses
    #   role: Window dressing    # - id: cult_of_sky_anthologies
    #   name: Cult of Sky Anthologies
    #   role: Going Clear Sky pastor
    #
    # Optional.  0 or more.
    #
    factions:
    - id: The_Dead_Hunters
      name: The Dead Hunters
      role: Nun

    #
    # Adjectives or other tags that can be used for searching.
    #
    # Optional.  0 or more.
    #
    adjectives:
    - Gruff
    - Compassionate
    - Wise

  improv:

    #
    # Introduction:
    # A block of text the DM can read out to the party.
    # A hooded dwarf darts in front of your party and blows a loud, shrill whistle, splitting your ears, before he runs away laughing.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    introduction:  The stocky dwarf in a sisters habit whispers a quick blessing and draws the massive warhammer slung across her back 

    #
    # Appearance: a brief description of the character skin, clothes, hair, eyes, etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    appearance:   The tall, stocky, older dwarf with a long, white beard wearing chainmail under her nun's habit and a massive hammer  

    #
    # Expressions: things the character says all the time, making their speech distinctive.
    # Like, oh my gods!
    # Detritus!
    # Whoah
    # Silly goose
    # etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    expressions:
    - "Moon have mercy on yer heathen soul"
    - "Enougha yer yappin, let smash us some devils"
    - "The good sister abides"

    #
    # Mannerisms: what does the character do with their hands?  And eyes, mouth, etc.
    # Do they tap their feet incessantly?  sniff their own underarms to figure out where the odour
    # is coming from?  Etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    mannerisms:   chain smokes cigars

  acting:
    #
    # Motivations:
    #
    # Required.
    # ???Maximum length???
    #
    motivations: |
      ridding the world of fiends, undead and abominations 

    #
    # Passions:
    #
    # Required.
    # ???Maximum length???
    #
    passions: |
      Cigars, whiskey and the moon

    #
    # Vulnerabilities:
    #
    # Required.
    # ???Maximum length???
    #
    vulnerabilities: |
      set in her ways, holds a grudge

    #
    # Secrets:
    #
    # Required.
    # ???Maximum length???
    #
    secrets: |
      as a young woman she was a prostitute before she became a cleric 

  #
  # The D & D stats block:
  # All integers.
  #
  stats:
    armour-class: 24
    hit-points: 193
    speed: 25
    str: 23
    dex: 18
    con: 21
    int: 15 
    wis: 24
    cha: 13

  #
  # Special characteristics.
  #
  # Each is:
  # ???Optional???
  # ???Max length???
  #
  specialties:
    skills:
    - Hill Dwarf Traits:
      - Darkvision: Can see 300 feet in dim light as though it was bright light and in darkness as if it was dim light
        Dwarven Resiliance: Advantage on saving throws against poison and resistance to poison damage
        Dwarven Combat Training: Proficiency with Battle Axes, Handaxes, Light Hammers and Warhammers
        Tool Proficincey: Proficient with Smith's Tools
        Stonecunning: Whenever making an Intelligence (History) check related to stonework, is considered proficient in the History skill adding double her proficiency
        Dwarven Toughness: Hit point Max increases by 1 every level
      Fighter Abilities:
      - Fighting Style: Archery
        Second Wind: Bonus Action to regain 1d10 + Fighter Level
        Action Surge: Once every short/long rest can take an extra action
        Extra Attack: Can attack twice each turn
        Indomitable: Can reroll 1 saving throw per long rest
      Rune Knight Traits: 
      - Rune Carver: Once per long rest can touch 4 objects that can be worn or held, to inscribe runes onto those objects. The rune stays on the object until the next long rest
        Runes Known: Cloud Rune, Stone Rune, Storm Rune, Fire Rune
        Giant Might: 4 Times per long rest as a bonus action can increase size to Large, have advantage Strength Checks and Strength Saving Throws, Once per turn can deal an extra 1d8 damage on one attack
        Runic Shield: 4 Times per long rest as a reaction when another creature within 60 feet is hit by an attack roll, can force the attacker to reroll the d20 and use the new roll
        Great Stature: gains 11 inches in height and increases Giant Might damage
      Cleric Abilities:
       - Spellcasting: 
         - Spell DC: 21
           Cantrips: Guidance, Light, Resistance, Sacred Flame, Spare the Dying
           1st Level: Healing Word, Bane, Bless, Cure Wounds
           2nd Level: Lesser Restoration, Spiritual Weapon, Prayer of Healing
           3rd Level: Mass Healing Word, Beacon of Hope, Revivify
           4th Level: Banishment, Locate Creature, Divination
           5th Level: Hallow, Greater Restoration, Dispel Evil, Mass Cure Wounds
           6th Level: Heal 
           7th Level: Resurrection 
           8th Level: Anti-magic Field, Holy Aura
           9th Level: Mass Heal
         Channel Divinity: Turn Undead, Destroy Undead, Twilight Sanctuary 
         Divine Intervention: Can call her patron to intervene on her behalf
      Twilight Domain Abilities:
      - Eyes of Night: Once pe long rest as an action can share her dark vision with up to 7 other creatures within 10 feet of her for up to 1 hour
        Vigilant Blessing: Can give any creature she touches (herself included) advantage on their next initiative roll
        Twilight Sanctuary: As an action , can use holy symbol to create a 30-foot-radius sphere of twilight  giving all creatures with 1d6+18 temporary hit points and end one charming or frightened effect on them
        Steps of Night: 6 times per long rest as a bonus action in dim light or darkness she gains a flying speed of 30 feet for 1 minute
        Divine Strike: Once per turn when hitting a creature with a weapon attack, that attack deals and extra 2d8 psychic damage
        Twilight Shroud: Allies with her Twilight Sanctuary are considered to have half cover        
        Spellcasting:
        - Cantrips: Toll The Dead
          1st Level: Faerie Fire, Sleep
          3rd Level: Moonbeam, See Invisibility
          5th Level: Aure of Vitality, Leomund's Tiny Hut
          7th Level: Aura of Life, Greater Invisibility
          9th Level: Circle of Power, Mislead

    special-abilities:
    - Proficiencies: Smith's Tools, Armor, Shields, Insight, Perception, Intimidation, History, Religion, Medicine
      Feats: Durable, Great Weapon Master, Grudge-Bearer - Undead, Healer, Heavy Armor Master, Keen Mind, Sentinel, Shield Master, War Caster 
      Legendary Resistance: (3/Day), If Sister Uriah Quartz fails a saving throw she can choose to succeed instead 
      Legendary Actions:
      - Description: Sister Uriah Quartz can take 3 Legendary Actions. Choosing from the options from below, Only one Legendary Action can be used at a time and only at the end of another creature's turn. 
                     Sister Uriah Quartz regains spent Legendary Actions at the start of her turn
        Moons Curse: Sister Uriah Quartz can cast Bane on any number of Undead or Fiends within 30 feet
        Sisters Strike: Sister Uriah Quartz can slam her shield into the ground releasing a thunder wave. All creatures within 30 feet to make a strength saving throw DC15 or take 1d10 Thunder damage and be knocked prone
        Moons Respite: Sister Uriah Quartz regain 1d12+6 HP 
    
    attacks: |
      has 2 attacks
    combat-tactics: |
      Never afraid of a good fight against a fiend or undead
    special-equipment:
    - Supernal War Hammer
    - Holy Shield
    - +2 Chainmail

  profile:

    #
    # Background story:
    # The long form character development.
    #
    # Required.
    # No length limit for now.
    #
    background-story: |
      Sister Uriah Quartz grew up poor in the rougher parts of town. She learned the ways of the Rune Knight from her family, but once she went out on her own, things went south fast. Out of work and out of money she ended 
      up turning to prostitution. One night while working in a brothel, a vampire paid the establishment a visit. While the beast was ravaging its way through the house, Uriah used her Rune Magic to surprise and slay the 
      monster. That night she felt the blessing of the moon goddess for the first time and used her blessing to heal all of the other girls ravaged by the vampire and prevent them from turning. Feeling her new calling, 
      she left her life of sin and joined a convent devoted to the goddess. She learned the ways of the Twilight Clerics and devoted her life to ridding the world of fiends and the undead. After 200+ years of fighting the 
      forces of darkness, she has become one tough old bird and is not to be trifled with. In her tenure, she repeatedly crossed paths with The Phantom, eventually leaving the convent to join his Dead Hunters full time.

    #
    # Personality (or something like that):
    # Expand on the introduction, appearance, expressions, mannerisms, etc.
    # without any length limits.
    #
    # Required.
    # No length limit for now.
    #
    personality: |
      Sister Uriah Quartz is tall for a dwarf, coming in at just over 5 feet tall. She is also broad and heavily muscled. She is dark-skinned with long gray hair and and a gray, braided beard. She wears the tradition nun's 
      habit of her order over top of full chainmail armor. She carries a huge warhammer strapped to her back, and carries a Holy silver shield with a large moon shaped sapphire in it center that acts as her holy symbol and 
      spellcasting focus. She is gruff and wise and has been around the block more than a few times. She is compassionate and loving towards her companions, and acts as a judgement-free minister and confessor for the local 
      bordellos and brothels, giving solace, advice and blessings to those in need. She is also a force to be reckoned with when it comes to battling fiends and the undead. She is also one of the very few people who know 
      The Phantom's secret. She is not a fan of him being undead, but she knows his story, his patrons and his mission and accepts them as valid.
