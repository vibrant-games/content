#
# Vibrant Games NPC file format.
#
# For long fields, we should be able to embed <html-tag>...</html-tag>s,
# if everyone is cool with that approach.  OR we could use markdown instead.
#
# HTML requires more discipline -- we need to come up with a CSS stylesheet,
# and stick to using the styles defined in our stylesheet.  Markdown is
# simpler, because we can convert and automagically apply the stylesheet.
#
# Long fields are of the form:
#
#     field: |
#       TEMPLATE
#       MORE TEMPLATE
#
# For example, with HTML tags:
#
#     field: |
#       <p> Gorbonzonger the goblin is a very bad goblin.
#       He likes to beat up kobolds. </p>
#       <p class="small"> Kobolds deserve it, anyway. </p>
#       <p> Gorbonzonger has an amulet made of camphor
#       and a very long shopping list that contains many
#       items, some very few of which include: </p>
#       <ul>
#       <li> toilet paper </li>
#       <li> broccoli </li>
#       </ul>
#
# Or with Markdown:
#
#     field: |
#       Gorbonzonger the goblin is a very bad goblin.  He likes to beat up kobolds.
#       Kobolds deserve it, anyway.
#       Gorbonzonger has an amulet made of camphor and a very long shopping list that contains many items, some very few of which include:
#       - toilet paper
#       - broccoli
#
# (There might be other formatting systems worth considering, too!)
#

#
# Currently there is no schema for this template.
# It will take some time to create a validating schema, so that,
# for example, many fields are optional, but some fields are
# required; enumerated fields are only allowed to have certain
# values; and so on.
#
# Once the validating schema is created (probably using
# Open API syntax, unless anyone has any preferences), we'll
# be able to validate submissions and accept / reject if we choose.
#
# Also the validating file format is the ONLY place we do
# content validation.  The database and user interface remain
# agnostic to the validation rules (although the submission
# UI will be set up to make it easy to e.g. pull down enumerated
# values).  This allows us to change the schema in ONE PLACE
# ONLY, not have to modify multiple components (UI, database,
# future mobile apps, etc).  The file format validator is
# the arbiter of what's allowed and what isn't.
#

#
# Template NPC:
#

---

#
# Preliminary fields that describe this overall file:
#
kind: vibrantgames.ca/npc
version: 0.0.2

#
# Information about who submitted the data, when, how, etc.:
#
metadata:
  #
  # A unique identified for this submission.
  # Eventually auto-generated.
  # For now, I suggest: convert the character name to lower case,
  # and replace all spaces and punctuation with underscores (_)
  #
  id: portius_gotadium

  #
  # The name of the submitter (your name).
  #
  author: Mike Rigby

  #
  # Email address of the submitter.
  #
  email: rigbyma@hotmail.com

  #
  # Date the NPC was created.
  # Must be in ISO 8601 format.
  # You can include the time if you want.
  #
  # E.g. "2021-12-31"
  #      "2021-12-31 23:59:59"
  #
  date: "2021-07-16"

  #
  # Arbitrary labels that are opaque to the system, only
  # potentially useful to humans.  For example, the original
  # WordPress id of a character (1234 etc).
  #
  # Optional.
  #
  labels:
  - label_template_1: TEMPLATE
  - label_template_2: TEMPLATE
  - label_template_3: TEMPLATE

  #
  # In future more metadata will likely be needed.
  # How the data was submitted, some kind of digital
  # signature giving Vibrant Games license to basically
  # use the content however it chooses, etc...
  #

#
# The content:
#
npc:
  #
  # Full name of the NPC.
  #
  # Required.
  # Max length: ...
  #
  name: Portius Gotadium

  #
  # The NPC artwork.
  # Comment out this field if it does not yet exist.
  # The filename can include a RELATIVE path:
  #     path/to/my/image.jpg
  # But it CANNOT be an absolute path:
  #     C:\path\to\my\image.jpg
  # For now let us keep all images in one directory,
  # at least until that becomes a scaling nightmare.
  #
  image: TEMPLATE_McTEMPLATESON.jpg

  #
  # Race, class, etc.
  # The taupe block on the left of the page.
  #
  traits:

    #
    # Ages (case insensitive):
    #   - child
    #   - adolescent
    #   - young adult
    #   - middle aged adult
    #   - older adult
    #   - elderly
    #
    # Required.
    #
    age: Middle Aged Adult

    #
    # Races (case insensitive):
    #   - dragonborn
    #   - drow
    #   - dwarf
    #   - duergar
    #   - elf
    #   - gnome
    #   - half-elf
    #   - halfling
    #   - half-orc
    #   - human
    #   - orc
    #   - tiefling
    #
    # Any other race is allowed, too.
    #
    # Required.
    # Max length: ...
    #
    race: Half-Dwarf/Half-Gnome

    #
    # The sub-race can be anything.
    # For example, swamp gnome or red elf etc.
    #
    # Optional.  Can be commented out.
    # Max length: ...
    #
    sub-race: N/A

    #
    # Pronouns (case insensitive):
    # - he/him
    # - she/her
    # - they/them
    #
    # Required.
    #
    pronouns: they/them

    #
    # Occupation(s).
    #
    # Required.
    # Max length per occupation: ...
    #
    
    Occupation:
    - Rectifier, Barber, Physician, Counsellor

    #
    # D & D classes (case insensitive):
    # - civilian
    # - artificer
    # - barbarian
    # - bard
    # - blood hunter
    # - cleric
    # - druid
    # - fighter
    # - monk
    # - paladin
    # - ranger
    # - rogue
    # - shaman
    # - sorcerer
    # - warlock
    # - wizard
    #
    # Required.
    #
    class: Doctor

    #
    # D & D subclasses (case insensitive):
    # - civilian
    # - alchemist
    # - Path of the Berserker
    # - College of Lore
    # - Order of the Profane Soul
    # - Grave Domain
    # - Cirlce of the Moon
    # - Battle Master
    # - Way of Shadow
    # - Oath of Redemption
    # - Gloom Stalker
    # - Thief
    # - Path of the Spirit
    # - Aberrant Mind
    # - Hexblade
    # - School of Abjuration
    #
    # Required.
    #
    subclass: Surgeon

    #
    # Class level.
    # 0 for civilian.
    #
    # Required.
    # Integer.
    #
    level: 7

    #
    # Alignments (case insensitive):
    # - lawful good
    # - lawful neutral
    # - lawful evil
    # - neutral good
    # - neutral
    # - neutral evil
    # - chaotic good
    # - chaotic neutral
    # - chaotic evil
    #
    # Required.
    #
    alignment: Neutral Good

    #
    # Alignment tendencies:
    # same as alignment, can be 0 or more.
    #
    # Optional.
    #
    tendencies:

    #
    # Languages the character speaks
    # (human, dwarvish, etc).
    #
    # We should use whatever the D & D language names
    # are (dwarvish / dwarven / dwarfish / whatever).
    #
    # Anybody want to list the D & D languages here as examples?
    #
    # 0 o more.  (I.e. optional, but most characters speak at least 1.)
    #
    languages:
    - Common
    - Dwarvish
    - Gnomish

    #
    # Factions:
    # These should be ids of factions (similar YAML file format, eventually).
    # For example:
    #
    # factions:
    # - id: thieves_guild_of_poliwood
    #   name: Thieves Guild of Poliwood
    #   role: Associate Professor of Lockpicking
    # - id: union_of_seamstresses
    #   name: Union of Seamstresses
    #   role: Window dressing    # - id: cult_of_sky_anthologies
    #   name: Cult of Sky Anthologies
    #   role: Going Clear Sky pastor
    #
    # Optional.  0 or more.
    #
    factions:
    - id: doctor_s_guild
      name: Doctor's Guild
      role: Journeyman
    - id: rectifier_s_guild
      name: Rectifier's Guild
      role: Founder or Some Head Role

    #
    # Adjectives or other tags that can be used for searching.
    #
    # Optional.  0 or more.
    #
    adjectives:
    - Multi-Talented 
    - Intelligent
    - Rebelious

  improv:

    #
    # Introduction:
    # A block of text the DM can read out to the party.
    # A hooded dwarf darts in front of your party and blows a loud, shrill whistle, splitting your ears, before he runs away laughing.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    introduction:  A short androgynous figure in colorful patchwork robes bustles towards an elderly woman with a cane. /"One moment dear!/"

    #
    # Appearance: a brief description of the character skin, clothes, hair, eyes, etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    appearance:   Partly male and partly female in appearance. Long, confusingly colorful robes. Short cropped blu-ish hair.

    #
    # Expressions: things the character says all the time, making their speech distinctive.
    # Like, oh my gods!
    # Detritus!
    # Whoah
    # Silly goose
    # etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    expressions:
    - "Here goes nothin!"
    - "Divine healing does the trick, I spose. Doesn't get to the bottom of things."

    #
    # Mannerisms: what does the character do with their hands?  And eyes, mouth, etc.
    # Do they tap their feet incessantly?  sniff their own underarms to figure out where the odour
    # is coming from?  Etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    mannerisms:   Refined and composed. Steady hands, gaze, and stance. Will identify a person's aspect like Sherlock Holmes.

  acting:
    #
    # Motivations:
    #
    # Required.
    # ???Maximum length???
    #
    motivations: |
      To help others in need. Portius seeks to push the Doctors' guild to dismantle the mercantile churches.

    #
    # Passions:
    #
    # Required.
    # ???Maximum length???
    #
    passions: |
      Passionate about biology. Desires to create perfected brand of Spirits.

    #
    # Vulnerabilities:
    #
    # Required.
    # ???Maximum length???
    #
    vulnerabilities: |
      His ego can get the best of him

    #
    # Secrets:
    #
    # Required.
    # ???Maximum length???
    #
    secrets: | 
      N/A

  #
  # The D & D stats block:
  # All integers.
  #
  stats:
    armour-class: 17
    hit-points: 53
    speed: 30
    str: 14
    dex: 18
    con: 13
    int: 19
    wis: 12
    cha: 14

  #
  # Special characteristics.
  #
  # Each is:
  # ???Optional???
  # ???Max length???
  #
  specialties:
    saving-throws:
    - Dexterity
    - Intelligence
    damage-immunities:
    - N/A
    condition-immunities:
    - N/A
    resistances:
    - Poison and Magic
    skills:
    - Medicine
    proficiencies:
    - Medicine
    - Perception
    - Doctor's Tools    
    - Barber's Kit
    - History
    - Sleight-of-Hand
    - Investigation
  special-abilities:
  - title: Dwarf Abilities
  - abilities: 
    - title: Darkvision
    - content: Can see in dim light within 60 feet as if it were bright light, and in Darkness as if it were dim light. Can’t discern color in Darkness, only Shades of Gray.
    - title: Dwarven Resistance
    - content: Has advantage on Saving Throws against poison, and has Resistance against poison damage
    - title: Tool Proficiency
    - content: You gain proficiency with the artisan's tools of your choice; smith's tools, brewer's supplies, or mason's tools.       
    - title: Dwarven Combat Training
    - content: Has proficiency with the Battleaxe, Handaxe, Light Hammer, and Warhammer.
    - title: Stonecunning
    - content: Whenever making an Intelligence (History) check related to the Origin of stonework, he is considered proficient in the History skill and adds double his Proficiency Bonus to the check, 
               instead of his normal Proficiency Bonus Proficiency Bonus
  - title: Rock Gnome Abilities
  - abilities: 
    - title: Gnome Cunning
    - content: Advantage on all Intelligence, Wisdom and Charisma saving throws againts magic
    - title: Darkvision
    - content: Can see in dim light within 60 feet of you as if it were bright light, and in darkness as if it were dim light. You can't discern color in darkness, only shades of gray           
    - title: Artificers Lore
    - content: Whenever you make an Intelligence (History) check related to magical, alchemical, or technological items, you can add twice your proficiency bonus instead of any other proficiency bonus that may apply
    - title: Tinker
    - content: You have proficiency with artisan tools (tinker's tools). Using those tools, you can spend 1 hour and 10 gp worth of materials to construct a Tiny clockwork device (AC 5, 1 hp). The device ceases to function
               after 24 hours (unless you spend 1 hour repairing it to keep the device functioning), or when you use your action to dismantle it; at that time, you can reclaim the materials used to create it. You can have up
               to three such devices active at a time. When you create a device, choose one of the following options - 
    - content: Clockwork Toy - This toy is a clockwork animal, monster, or person, such as a frog, mouse, bird, dragon, or soldier. When placed on the ground, the toy moves 5 feet across the ground on each of your turns in
                               a random direction. It makes noises as appropriate to the creature it represents.
    - content: Fire Starter - The device produces a miniature flame, which you can use to light a candle, torch, or campfire. Using the device requires your action.
    - content: Music Box - When opened, this music box plays a single song at a moderate volume. The box stops playing when it reaches the song's end or when it is closed.
  - title: Doctor Abilities
  - abilities:
    - title: Medical Training
    - content: Due to your meticulous study into the healing arts you can use your Intelligence modifier instead of your Wisdom modifier for Medicine checks. In addition your proficiency bonus is doubled for any
               Medicine checks that you make. 
    - title: Doctors Bag
    - content: You gain access to a number of special supplies due to your medical training. These supplies include things like bandages, syringes, medicinal powders, and healing salves. You keep these in a storage
               container of your choice such as a bag, a series of pouches, or even a trunk. As long as you have access to your Doctor's Bag you may use an action to stabilize a creature that has 0 hit points, without
               needing to make a Medicine check.
    - title: First Aid
    - content: You can apply basic first aid to an adjacent creature you can touch. As a bonus action you heal the target for 1d4 hit points. This increases by 1d4 when you reach 5th level (2d4), 11th level (3d4), and 17th
               level (4d4). You can use this feature a number of times equal to your Intelligence modifier + 1. You regain any expended uses when you finish a Short Rest.
    - title: Second Opinion
    - content: You have become accustomed not only to combat, but to coordinating with other healers. Whenever an ally within 20ft of you uses a healing ability, spell, or item, you can use your reaction to increase
               the amount healed to a single target by half, rounded up. Your ally must be able to see or hear you.
    - title: Patch Up
    - content: You have learned that there is always another fight around the corner, and it's best to be ready for it. Select up to 6 willing creatures that you can touch. You spend the next 10 minutes quickly stitching up
               any open wounds and applying painkillers where needed, whatever it takes to get them to the next battle. This cures them of any non-magical ailments and restores a number of hit points equal to half of their
               maximum rounded up. You can use this feature a number of times equal to your Intelligence modifier divided by two (a minimum of once). You regain any expended uses when you finish a Long Rest.
    - title: Diagnosis
    - content: You have learned to treat hostile scenarios as just another day at the office. As an action you study a living creature and gain vital insight towards its physical state. You learn one of the targets
               following statistics - Damage Vulnerabilities, Damage Resistances, Damage Immunities, Highest Saving Throw, Lowest Saving Throw, or whether or not the creature is below half its health. You can use this
               feature a number of times equal to your Intelligence modifier (a minimum of once). You regain expended uses when you finish a Short Rest.
    - title: Paramedic
    - content: You have become experienced at reaching the injured without taking damage. When you use your action to disengage you may also double your movement speed until the end of your turn
    - title: Vaccination
    - content: You have spent countless hours attempting to aid those suffering from disease and have developed a number of treatments. As an action you can cure a target of a single disease afflicting them. Alternatively,
               you can inoculate a target against disease for the next 24 hours. In addition, due to exposure from numerous patients the doctor gains immunity to all disease.
  - title: Surgeon Domain Abilities
  - abilities: 
    - title: Expert Practice
    - content: You can now add your intelligence modifier to the result of any healing ability you perform.
    - title: Surgery
    - content: You have gained the confidence to delve deeper into the bodies of your patients. You operate on an injured subject, curing them of any ailments, both mundane and magical. The target regains a number of hit points
               equal to their maximum. Any hit points the target gains over their maximum become temporary hit points. This takes 2 full hours from start to finish.

  - title: Feats
  - content: Healer

  - title: Attacks
  - content: 1 attack with dagger
  - title: Combat Tactics
  - content: They abhor violence and will avoid it at all costs.

  - title: Special Equipment
  - abilities:
    - title: Keoghtoms Ointment
    - content: Wondrous item, uncommon, This glass jar 3 inches in diameter contains 1d4 + 1 doses of a thick mixture that smells faintly of aloe. The jar and its contents weigh half a pound. As an action one dose of
               the ointment can be swallowed or applied to the skin. The creature that receives it regains 2d8 + 2 hit points ceases to be poisoned and is cured of any disease. They carry one at all times and
               have many at their shack.
    - title: Robe of Useful Items 
    - content: adventuring gear (wondrous item robe)This robe has cloth patches of various shapes and colors covering it. While wearing the robe. you can use an action to detach one of the patches causing it to
               become the object or creature it represents. Once the last patch is removed the robe becomes an ordinary garment. The robe has two of each of the following patches - 
    - content: Items
    - content: Dagger
    - content: Bullseye lantern (filled and lit)
    - content: Steel mirror
    - content: 10-foot pole
    - content: Hempen rope (50 feet coiled)
    - content: Sack
    - content: Patches
    - content: In addition their robe has 10 patches as follows 
    - content: 2 Iron doors
    - content: 2 Riding Horses
    - content: 2 Windows
    - content: 2 Spell Scrolls of 1st to 3rd level
    - content: 2 Superior Potions of Healing
    - title: Dr. Gotadiums Headband of De-Obfuscation 
    - content: This headband is made of flexible metals with various arms tucked and folded into themselves. It aids a surgeon and rectifier in their tasks. It's multiple folding arms can
               extend to - 
    - content: Provide light
    - content: A magnification lens
    - content: A small beam of heat (to help with incisions or cauterization)
    - content: A surgeon's mask
    - content: A tiny hand that can grasp or hold a small tool (like a scalpel or needle or suture)
    - content: And a small vial of iodine
    - title: Doctor's Bag
    - content: Doctor's tools come in a flat-bottomed black or brown leather bag with a metal-frame closing mouth. The bag contains a number of general steel tools of a highly polished and precision nature, as well as a couple 
               of additional tools unique to the doctor's specialty.
    - content: Proficiency with this kit lets you add your proficiency bonus to Wisdom (Medicine) checks when using it to stabilize a dying creature or diagnosing an illness. If you are already proficient with the medicine skill,
               your proficiency bonus is doubled. The content of the bag includes
    - content: A needle and fine wire or thread
    - content: A hinged splint or brace
    - content: A small steel cone (Low-tech stethoscope)
    - content: A small mirror
    - content: Live leeches
    - content: Tools for clamping and binding open wounds to prevent blood loss
    - content: Two small tools relevant to the practitioner's specialty.

  profile:

    #
    # Background story:
    # The long form character development.
    #
    # Required.
    # No length limit for now.
    #
    background-story: |
     Life in the gnomish city of Aberash Caandu is always lively - filled with tinkerer products wobbling about and wondrous inventions that would amaze even the most experienced traveler. The gnomes of this city have always
     been accepting of all other races and inter-racial marriage and offspring are not uncommon. Portius is a product of this accepting community and raised in their meticulously productive and innovative cultural practices.
     Knowing from their youth that they were not only a mixed-race person but also gender fluid, Portius presents powerful qualities of both masculinity and femininity. With close-cut cropped hair and a muscular, broad build,
     they seem tomboyish. Yet their graceful hands and attention to details - in their work, appearance, and environment - reflect a feminine edge. As they matured, they took on the best of each race. They chose not to
     tinker, per se, at least not with 'inventions' but instead with the biology of peoples. They took to the role of a doctor easily and quickly became the community's go-to for anything that would ail them. They also picked
     up on the talents of the local Dwarven community and learned the sophisticated methods of rectification - distilling and producing fine spirits. In addition, their skills with a sharp edge and attention to detail leant
     themselves well to barbering. Portius was and is seen as something of a pragmatic polymath. The wonderful outcome of the mixing of Gnomish and Dwarven genetics and culture. Portius has since set out on their own to
     pursue a greater good among the regions. She has settled in the city of Tyrwind [any large city] where they have set up a sturdy shack on the outskirts of the market. Their small shop operates as an underclass clinic. Here
     she also distills and bottles fine spirits for sale to taverns, inns, and the public. She has a brand called, "Moorehouse', made up of various rums and whiskeys. Portius has since joined the regional Doctors' Guild,
     which has a small population of members. They have also been a founding member of the Rectifiers' guild. Both to protect practitioners of little-known and rarely practiced professions. They seek to use their membership to
     these guilds to push them to dismantle - through strategically intellectual and political means - the mercantile churches. Because of these goals, she is currently a target of Morion DeFaye and his clergy. Although these
     mercantile abbots would never outright assassinate anyone, they keep close watch over her operations. Although very gender fluid in their performance of gender, Portius' biological sex is female and her sexual
     preference oscillates frequently.
 
    #
    # Personality (or something like that):
    # Expand on the introduction, appearance, expressions, mannerisms, etc.
    # without any length limits.
    #
    # Required.
    # No length limit for now.
    #
    personality: |
     Portius is an smart and accomplished doctor with a rebelious streak. They are also skilled in the fine art of spirit-making, a hobby which they have fashioned into a profitable source of income. As a person of many talents,
     they are also a capable barber and love doing people's hair. Multi-talented and driven to succeed in every facet of their life, they're also compelled to fight for social justice as well. They strongly disagree with the 
     practices and teachings of the mercantile churches and have devoted their spare time to breaking their hold on their society. They have used some of their professional clout through the various guilds that they belong to,
     to further this aim. They know that this has painted a target on their back as an enemy of the churches, and are weary of stranegrs because of it.
