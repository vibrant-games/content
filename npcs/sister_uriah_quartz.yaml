#
# Vibrant Games NPC file format.
#
# For long fields, we should be able to embed <html-tag>...</html-tag>s,
# if everyone is cool with that approach.  OR we could use markdown instead.
#
# HTML requires more discipline -- we need to come up with a CSS stylesheet,
# and stick to using the styles defined in our stylesheet.  Markdown is
# simpler, because we can convert and automagically apply the stylesheet.
#
# Long fields are of the form:
#
#     field: |
#       TEMPLATE
#       MORE TEMPLATE
#
# For example, with HTML tags:
#
#     field: |
#       <p> Gorbonzonger the goblin is a very bad goblin.
#       He likes to beat up kobolds. </p>
#       <p class="small"> Kobolds deserve it, anyway. </p>
#       <p> Gorbonzonger has an amulet made of camphor
#       and a very long shopping list that contains many
#       items, some very few of which include: </p>
#       <ul>
#       <li> toilet paper </li>
#       <li> broccoli </li>
#       </ul>
#
# Or with Markdown:
#
#     field: |
#       Gorbonzonger the goblin is a very bad goblin.  He likes to beat up kobolds.
#       Kobolds deserve it, anyway.
#       Gorbonzonger has an amulet made of camphor and a very long shopping list that contains many items, some very few of which include:
#       - toilet paper
#       - broccoli
#
# (There might be other formatting systems worth considering, too!)
#

#
# Currently there is no schema for this template.
# It will take some time to create a validating schema, so that,
# for example, many fields are optional, but some fields are
# required; enumerated fields are only allowed to have certain
# values; and so on.
#
# Once the validating schema is created (probably using
# Open API syntax, unless anyone has any preferences), we'll
# be able to validate submissions and accept / reject if we choose.
#
# Also the validating file format is the ONLY place we do
# content validation.  The database and user interface remain
# agnostic to the validation rules (although the submission
# UI will be set up to make it easy to e.g. pull down enumerated
# values).  This allows us to change the schema in ONE PLACE
# ONLY, not have to modify multiple components (UI, database,
# future mobile apps, etc).  The file format validator is
# the arbiter of what's allowed and what isn't.
#

#
# Template NPC:
#

---

#
# Preliminary fields that describe this overall file:
#
kind: vibrantgames.ca/npc
version: 0.0.2

#
# Information about who submitted the data, when, how, etc.:
#
metadata:
  #
  # A unique identified for this submission.
  # Eventually auto-generated.
  # For now, I suggest: convert the character name to lower case,
  # and replace all spaces and punctuation with underscores (_)
  #
  id: Sister_Uriah_Quartz

  #
  # The name of the submitter (your name).
  #
  author: Mike Rigby

  #
  # Email address of the submitter.
  #
  email: rigbyma@hotmail.com

  #
  # Date the NPC was created.
  # Must be in ISO 8601 format.
  # You can include the time if you want.
  #
  # E.g. "2021-12-31"
  #      "2021-12-31 23:59:59"
  #
  date: "2021-04-25"

  #
  # Arbitrary labels that are opaque to the system, only
  # potentially useful to humans.  For example, the original
  # WordPress id of a character (1234 etc).
  #
  # Optional.
  #
  labels:
  - label_template_1: TEMPLATE
  - label_template_2: TEMPLATE
  - label_template_3: TEMPLATE

  #
  # In future more metadata will likely be needed.
  # How the data was submitted, some kind of digital
  # signature giving Vibrant Games license to basically
  # use the content however it chooses, etc...
  #

#
# The content:
#
npc:
  #
  # Full name of the NPC.
  #
  # Required.
  # Max length: ...
  #
  name: Sister Uriah Quartz

  #
  # The NPC artwork.
  # Comment out this field if it does not yet exist.
  # The filename can include a RELATIVE path:
  #     path/to/my/image.jpg
  # But it CANNOT be an absolute path:
  #     C:\path\to\my\image.jpg
  # For now let us keep all images in one directory,
  # at least until that becomes a scaling nightmare.
  #
  image: TEMPLATE_McTEMPLATESON.jpg

  #
  # Race, class, etc.
  # The taupe block on the left of the page.
  #
  traits:

    #
    # Ages (case insensitive):
    #   - child
    #   - adolescent
    #   - young adult
    #   - middle aged adult
    #   - older adult
    #   - elderly
    #
    # Required.
    #
    age: Older Adult

    #
    # Races (case insensitive):
    #   - dragonborn
    #   - drow
    #   - dwarf
    #   - duergar
    #   - elf
    #   - gnome
    #   - half-elf
    #   - halfling
    #   - half-orc
    #   - human
    #   - orc
    #   - tiefling
    #
    # Any other race is allowed, too.
    #
    # Required.
    # Max length: ...
    #
    race: Dwarf

    #
    # The sub-race can be anything.
    # For example, swamp gnome or red elf etc.
    #
    # Optional.  Can be commented out.
    # Max length: ...
    #
    sub-race: Hill Dwarf

    #
    # Pronouns (case insensitive):
    # - he/him
    # - she/her
    # - they/them
    #
    # Required.
    #
    pronouns: she/her

    #
    # Occupation(s).
    #
    # Required.
    # Max length per occupation: ...
    #
    occupation:
    - Dead Hunter

    #
    # D & D classes (case insensitive):
    # - civilian
    # - artificer
    # - barbarian
    # - bard
    # - blood hunter
    # - cleric
    # - druid
    # - fighter
    # - monk
    # - paladin
    # - ranger
    # - rogue
    # - shaman
    # - sorcerer
    # - warlock
    # - wizard
    #
    # Required.
    #
    class: Fighter/Cleric

    #
    # D & D subclasses (case insensitive):
    # - civilian
    # - alchemist
    # - Path of the Berserker
    # - College of Lore
    # - Order of the Profane Soul
    # - Grave Domain
    # - Cirlce of the Moon
    # - Battle Master
    # - Way of Shadow
    # - Oath of Redemption
    # - Gloom Stalker
    # - Thief
    # - Path of the Spirit
    # - Aberrant Mind
    # - Hexblade
    # - School of Abjuration
    #
    # Required.
    #
    subclass: Rune Knight/Twilight Domain

    #
    # Class level.
    # 0 for civilian.
    #
    # Required.
    # Integer.
    #
    level: 10/18

    #
    # Alignments (case insensitive):
    # - lawful good
    # - lawful neutral
    # - lawful evil
    # - neutral good
    # - neutral
    # - neutral evil
    # - chaotic good
    # - chaotic neutral
    # - chaotic evil
    #
    # Required.
    #
    alignment: Lawful Good

    #
    # Alignment tendencies:
    # same as alignment, can be 0 or more.
    #
    # Optional.
    #
    tendencies:
    - N/A

    #
    # Languages the character speaks
    # (human, dwarvish, etc).
    #
    # We should use whatever the D & D language names
    # are (dwarvish / dwarven / dwarfish / whatever).
    #
    # Anybody want to list the D & D languages here as examples?
    #
    # 0 o more.  (I.e. optional, but most characters speak at least 1.)
    #
    languages:
    - Common
    - Dwarf
    - Infernal
    - Abyssal
    - Giant

    #
    # Factions:
    # These should be ids of factions (similar YAML file format, eventually).
    # For example:
    #
    # factions:
    # - id: thieves_guild_of_poliwood
    #   name: Thieves Guild of Poliwood
    #   role: Associate Professor of Lockpicking
    # - id: union_of_seamstresses
    #   name: Union of Seamstresses
    #   role: Window dressing    # - id: cult_of_sky_anthologies
    #   name: Cult of Sky Anthologies
    #   role: Going Clear Sky pastor
    #
    # Optional.  0 or more.
    #
    factions:
    - id: The_Dead_Hunters
      name: The Dead Hunters
      role: Nun

    #
    # Adjectives or other tags that can be used for searching.
    #
    # Optional.  0 or more.
    #
    adjectives:
    - Gruff
    - Compassionate
    - Wise

  improv:

    #
    # Introduction:
    # A block of text the DM can read out to the party.
    # A hooded dwarf darts in front of your party and blows a loud, shrill whistle, splitting your ears, before he runs away laughing.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    introduction:  The stocky dwarf in a sisters habit whispers a quick blessing and draws the massive warhammer slung across her back 

    #
    # Appearance: a brief description of the character skin, clothes, hair, eyes, etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    appearance:   The tall, stocky, older dwarf with a long, white beard wearing chainmail under her nun's habit and a massive hammer  

    #
    # Expressions: things the character says all the time, making their speech distinctive.
    # Like, oh my gods!
    # Detritus!
    # Whoah
    # Silly goose
    # etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    expressions:
    - "Moon have mercy on yer heathen soul"
    - "Enougha yer yappin, let smash us some devils"
    - "The good sister abides"

    #
    # Mannerisms: what does the character do with their hands?  And eyes, mouth, etc.
    # Do they tap their feet incessantly?  sniff their own underarms to figure out where the odour
    # is coming from?  Etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    mannerisms:   chain smokes cigars

  acting:
    #
    # Motivations:
    #
    # Required.
    # ???Maximum length???
    #
    motivations: |
      ridding the world of fiends, undead and abominations 

    #
    # Passions:
    #
    # Required.
    # ???Maximum length???
    #
    passions: |
      Cigars, whiskey and the moon

    #
    # Vulnerabilities:
    #
    # Required.
    # ???Maximum length???
    #
    vulnerabilities: |
      set in her ways, holds a grudge

    #
    # Secrets:
    #
    # Required.
    # ???Maximum length???
    #
    secrets: |
      as a young woman she was a prostitute before she became a cleric 

  #
  # The D & D stats block:
  # All integers.
  #
  stats:
    armour-class: 24
    hit-points: 193
    speed: 25
    str: 23
    dex: 18
    con: 21
    int: 15 
    wis: 24
    cha: 13

  #
  # Special characteristics.
  #
  # Each is:
  # ???Optional???
  # ???Max length???
  #
  specialties:
    saving-throws:
    - Constitution
    - Wisdom
    - Strength
    damage-immunities:
    - N/A
    condition-immunities:
    - N/A
    resistances:
    - Poison
    skills:
    - Leatherworking
    proficiencies:
    - Arcana
    - History
    - Religion    
    - Athletics
    - Medicine
    - Smith's Tools
    - Heavy Armor
    - Insight
    - Shields
    - Intimidation
  special-abilities:
  - title: Dwarf Abilities
  - abilities: 
    - title: Darkvision
    - content: Can see in dim light within 60 feet as if it were bright light, and in Darkness as if it were dim light. Can’t discern color in Darkness, only Shades of Gray.
    - title: Dwarven Resistance
    - content: Has advantage on Saving Throws against poison, and has Resistance against poison damage
    - title: Tool Proficiency
    - content: You gain proficiency with the artisan's tools of your choice; smith's tools, brewer's supplies, or mason's tools.       
    - title: Dwarven Combat Training
    - content: Has proficiency with the Battleaxe, Handaxe, Light Hammer, and Warhammer.
    - title: Stonecunning
    - content: Whenever making an Intelligence (History) check related to the Origin of stonework, he is considered proficient in the History skill and adds double his Proficiency Bonus to the check, 
               instead of his normal Proficiency Bonus
  - title: Fighter Abilities
  - abilities:
    - title: Fighting Style
    - content:
    - title: Second Wind
    - content: Bonus Action to regain 1d10 + 
    - title: Action Surge
    - content: Once every short/long rest can take an extra action
    - title: Extra Attack
    - content: Can attack twice each turn
    - title: Indomitable
    - content: you can reroll a saving throw that you fail. If you do so, you must use the new roll, and you can use this feature 3 times per Long Rest.
  - title: Rune Knight Abilities
  - abilities: 
    - title: Bonus Proficiencies
    - content: You gain proficiency with smith’s tools, and you learn to speak, read, and write Giant
    - title: Rune Carver
    - content: You can use magic runes to enhance your gear. You learn two runes of your choice, from among the runes described below, and each time you gain a level in this class, you can replace one rune you know with a
               different one from this feature. When you reach certain levels in this class, you learn additional runes, as shown in the Runes Known table.
    - title: Runes Known
    - content: Cloud Rune, Stone Rune, Storm Rune, Fire Rune
    - title: Giant Might
    - content: You have learned how to imbue yourself with the might of giants. As a bonus action, you magically gain the following benefits, which last for 1 minute;
               If you are smaller than Large, you become Large, along with anything you are wearing. If you lack the room to become Large, your size doesn't change.
               You have advantage on Strength checks and Strength saving throws.
               Once on each of your turns, one of your attacks with a weapon or an unarmed strike can deal an extra 1d6 damage to a target on a hit.
               You can use this feature a number of times equal to your proficiency bonus, and you regain all expended uses of it when you finish a long rest.
    - title: Runic Shield
    - content: You learn to invoke your rune magic to protect your allies. When another creature you can see within 60 feet of you is hit by an attack roll, you can use your reaction to force the attacker to reroll the 
               d20 and use the new roll. You can use this feature a number of times equal to your proficiency bonus, and you regain all expended uses when you finish a long rest.
    - title: Great Stature
    - content: The magic of your runes permanently alters you. When you gain this feature, roll 3d4. You grow a number of inches in height equal to the roll. Moreover, the extra damage you deal with your Giant's Might 
               feature increases to 1d8.
  - title: Cleric Abilities
  - abilities:
  - title: Cleric Spellcasting
  - abilities: 
    - title: Spell DC
    - content: 21
    - title: Cantrips
    - content: Guidance, Light, Resistance, Sacred Flame, Spare the Dying
    - title: 1st Level
    - content: Healing Word, Bane, Bless, Cure Wounds
    - title: 2nd Level
    - content: Lesser Restoration, Spiritual Weapon, Prayer of Healing
    - title: 3rd Level
    - cotnent: Mass Healing Word, Beacon of Hope, Revivify
    - title: 4th Level
    - content: Banishment, Locate Creature, Divination
    - title: 5th Level
    - content: Hallow, Greater Restoration, Dispel Evil, Mass Cure Wounds
    - title: 6th Level
    - content: Heal, Sunbeam
    - title: 7th Level
    - content: Resurrection, Plane Shift 
    - title: 8th Level
    - content: Anti-magic Field, Holy Aura
    - title: 9th Level
    - content: Mass Heal
  - title: Channel Divinity
  - abilities:    
    - title: Turn Undead
    - content: As an action, you present your holy Symbol and speak a prayer censuring the Undead. Each Undead that can see or hear you within 30 feet of you must make a Wisdom saving throw. If the creature fails its saving 
               throw, it is turned for 1 minute or until it takes any damage. A turned creature must spend its turns trying to move as far away from you as it can, and it can't willingly move to a space within 30 feet of you. 
               It also can't take Reactions. For its action, it can use only the Dash action or try to Escape from an Effect that prevents it from moving. If there's nowhere to move, the creature can use the Dodge action.    
    - title: Destroy Undead
    - content: Starting at 5th Level, when an Undead of CR 1/2 or lower fails its saving throw against Your Turn Undead feature, the creature is instantly destroyed.    
    - title: Divine Intervention
    - content: Beginning at 10th level, you can call on your deity to intervene on your behalf when your need is great. Imploring your deity's aid requires you to use your action. Describe the assistance you seek, and roll 
               percentile dice. If you roll a number equal to or lower than your Cleric level, your deity intervenes. The DM chooses the Nature of the intervention; the Effect of any Cleric spell or Cleric domain spell would be 
               appropriate. If your deity intervenes, you can't use this feature again for 7 days. Otherwise, you can use it again after you finish a Long Rest. At 20th level, your call for intervention succeeds automatically, 
               no roll required.
  - title: Twilight Domain Abilities
  - abilities: 
    - title: Spellcasting
    - abilities:
    - title: Spell DC
    - content:
    - title: 1st Level
    - content: Faerie Fire, Sleep
    - title: 3rd Level
    - content: Moonbeam, See Invisibility
    - title: 5th Level
    - content: Aure of Vitality, Tiny Hut
    - title: 7th Level
    - content: Aura of Life, Greater Invisibility
    - title: 9th Level
    - content: Circle of Power, Mislead
    - title: Bonus Proficiencies
    - content: You gain proficiency with martial weapons and heavy armor.
    - title: Eyes of Night
    - content: You can see through the deepest gloom. You have darkvision out to a range of 300 feet. In that radius, you can see in dim light as if it were bright light and in darkness as if it were dim light. As an 
               action, you can magically share the darkvision of this feature with willing creatures you can see within 10 feet of you, up to a number of creatures equal to your Wisdom modifier (minimum of one creature).
               The shared darkvision lasts for 1 hour. Once you share it, you can't do so again until you finish a long rest, unless you expend a spell slot of any level to share it again.
    - title: Vigilant Blessing
    - content: The night has taught you to be vigilant. As an action, you give one creature you touch (including possibly yourself) advantage on the next initiative roll the creature makes. This benefit ends 
               immediately after the roll or if you use this feature again.
    - title: Channel Divinity - Twilight Sanctuary
    - content: You can use your Channel Divinity to refresh your allies with soothing twilight. As an action, you present your holy symbol, and a sphere of twilight emanates from you. The sphere 
               is centered on you, has a 30-foot radius, and is filled with dim light. The sphere moves with you, and it lasts for 1 minute or until you are incapacitated or die. Whenever a 
               creature (including you) ends its turn in the sphere, you can grant that creature one of these benefits;
               You grant it temporary hit points equal to 1d6 plus your cleric level.
               You end one effect on it causing it to be charmed or frightened.
    - title: Steps of Night
    - content: You can draw on the mystical power of night to rise into the air. As a bonus action when you are in dim light or darkness, you can magically give yourself a flying speed equal to your walking speed for 
               1 minute. You can use this bonus action a number of times equal to your proficiency bonus, and you regain all expended uses when you finish a long rest.
    - title: Divine Strike
    - content: You gain the ability to infuse your weapon strikes with divine energy. Once on each of your turns when you hit a creature with a weapon attack, you can cause the attack to deal an extra 1d8 radiant damage.
               When you reach 14th level, the extra damage increases to 2d8.
    - title: Twilight Shroud
    - content: The twilight that you summon offers a protective embrace; you and your allies have half cover while in the sphere created by your Twilight Sanctuary. 

  - title: Legendary Resistance
  - content: (3/Day), If Sister Uriah Quartz fails a saving throw she can choose to succeed instead 
  - title: Legendary Actions
  - content: Sister Uriah Quartz can take 3 Legendary Actions. Choosing from the options from below, Only one Legendary Action can be used at a time and only at the end of another creature's turn. 
             Sister Uriah Quartz regains spent Legendary Actions at the start of her turn
  - abilities:
    - title: Moon's Curse
    - content: Sister Uriah Quartz can cast Bane on any number of Undead or Fiends within 30 feet
    - title: Sister's Strike
    - content: Sister Uriah Quartz can slam her shield into the ground releasing a thunder wave. All creatures within 30 feet to make a strength saving throw DC15 or take 1d10 Thunder damage and be knocked prone
    - title: Moon's Respite
    - content: Sister Uriah Quartz regain 1d12+6 HP 
  - title: Feats
  - content: Durable, Great Weapon Master, Grudge-Bearer - Undead, Healer, Heavy Armor Master, Keen Mind, Sentinel, Shield Master, War Caster    
  - title: Attacks
  - content: has 2 attacks
  - title: Combat Tactics
  - content: Never afraid of a good fight against a fiend or undead
  
  - title: Special Equipment
  - abilities:
    - title: Supernal War Hammer
    - content: The handle is crafted from a unicorn horn, the head of the hammer crafted from a meteorite. This +2 magic weapon deals 1d10 bludgeoning damage + 1d10 radiant damage +1d10 force damage. The user of this weapon is
               immune to negative conditions. This weapon deals maximum damage (30) against undead.
    - title: Holy Protector
    - content: This silver shield is embedded with a fist-sized sapphire. While holding this shield, you have a +2 bonus to AC in addition to the shield's normal bonus to AC. In addition, if you are hit by an attack made by a 
               fiend or undead creature while holding this shield, you can use your reaction to reduce the damage by 1d10 + your Wisdom modifier. If you reduce the damage to 0, you can make a melee weapon attack against the 
               attacker as a part of the same reaction.
    - title: +2 Chainmail
    - content: While wearing it, you have an extra +2 bonus to your AC

  profile:

    #
    # Background story:
    # The long form character development.
    #
    # Required.
    # No length limit for now.
    #
    background-story: |
      Sister Uriah Quartz grew up poor in the rougher parts of town. She learned the ways of the Rune Knight from her family, but once she went out on her own, things went south fast. Out of work and out of money she ended 
      up turning to prostitution. One night while working in a brothel, a vampire paid the establishment a visit. While the beast was ravaging its way through the house, Uriah used her Rune Magic to surprise and slay the 
      monster. That night she felt the blessing of the moon goddess for the first time and used her blessing to heal all of the other girls ravaged by the vampire and prevent them from turning. Feeling her new calling, 
      she left her life of sin and joined a convent devoted to the goddess. She learned the ways of the Twilight Clerics and devoted her life to ridding the world of fiends and the undead. After 200+ years of fighting the 
      forces of darkness, she has become one tough old bird and is not to be trifled with. In her tenure, she repeatedly crossed paths with The Phantom, eventually leaving the convent to join his Dead Hunters full time.

    #
    # Personality (or something like that):
    # Expand on the introduction, appearance, expressions, mannerisms, etc.
    # without any length limits.
    #
    # Required.
    # No length limit for now.
    #
    personality: |
      Sister Uriah Quartz is tall for a dwarf, coming in at just over 5 feet tall. She is also broad and heavily muscled. She is dark-skinned with long gray hair and and a gray, braided beard. She wears the tradition nun's 
      habit of her order over top of full chainmail armor. She carries a huge warhammer strapped to her back, and carries a Holy silver shield with a large moon shaped sapphire in it center that acts as her holy symbol and 
      spellcasting focus. She is gruff and wise and has been around the block more than a few times. She is compassionate and loving towards her companions, and acts as a judgement-free minister and confessor for the local 
      bordellos and brothels, giving solace, advice and blessings to those in need. She is also a force to be reckoned with when it comes to battling fiends and the undead. She is also one of the very few people who know 
      The Phantom's secret. She is not a fan of him being undead, but she knows his story, his patrons and his mission and accepts them as valid.
