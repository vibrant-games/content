#
# Vibrant Games NPC file format.
#
# For long fields, we should be able to embed <html-tag>...</html-tag>s,
# if everyone is cool with that approach.  OR we could use markdown instead.
#
# HTML requires more discipline -- we need to come up with a CSS stylesheet,
# and stick to using the styles defined in our stylesheet.  Markdown is
# simpler, because we can convert and automagically apply the stylesheet.
#
# Long fields are of the form:
#
#     field: |
#       TEMPLATE
#       MORE TEMPLATE
#
# For example, with HTML tags:
#
#     field: |
#       <p> Gorbonzonger the goblin is a very bad goblin.
#       He likes to beat up kobolds. </p>
#       <p class="small"> Kobolds deserve it, anyway. </p>
#       <p> Gorbonzonger has an amulet made of camphor
#       and a very long shopping list that contains many
#       items, some very few of which include: </p>
#       <ul>
#       <li> toilet paper </li>
#       <li> broccoli </li>
#       </ul>
#
# Or with Markdown:
#
#     field: |
#       Gorbonzonger the goblin is a very bad goblin.  He likes to beat up kobolds.
#       Kobolds deserve it, anyway.
#       Gorbonzonger has an amulet made of camphor and a very long shopping list that contains many items, some very few of which include:
#       - toilet paper
#       - broccoli
#
# (There might be other formatting systems worth considering, too!)
#

#
# Currently there is no schema for this template.
# It will take some time to create a validating schema, so that,
# for example, many fields are optional, but some fields are
# required; enumerated fields are only allowed to have certain
# values; and so on.
#
# Once the validating schema is created (probably using
# Open API syntax, unless anyone has any preferences), we'll
# be able to validate submissions and accept / reject if we choose.
#
# Also the validating file format is the ONLY place we do
# content validation.  The database and user interface remain
# agnostic to the validation rules (although the submission
# UI will be set up to make it easy to e.g. pull down enumerated
# values).  This allows us to change the schema in ONE PLACE
# ONLY, not have to modify multiple components (UI, database,
# future mobile apps, etc).  The file format validator is
# the arbiter of what's allowed and what isn't.
#

#
# Template NPC:
#

---

#
# Preliminary fields that describe this overall file:
#
kind: vibrantgames.ca/npc
version: 0.0.2

#
# Information about who submitted the data, when, how, etc.:
#
metadata:
  #
  # A unique identified for this submission.
  # Eventually auto-generated.
  # For now, I suggest: convert the character name to lower case,
  # and replace all spaces and punctuation with underscores (_)
  #
  id: yrtne_atad

  #
  # The name of the submitter (your name).
  #
  author: Mike Rigby

  #
  # Email address of the submitter.
  #
  email: rigbyma@hotmail.com

  #
  # Date the NPC was created.
  # Must be in ISO 8601 format.
  # You can include the time if you want.
  #
  # E.g. "2021-12-31"
  #      "2021-12-31 23:59:59"
  #
  date: "2021-04-04"

  #
  # Arbitrary labels that are opaque to the system, only
  # potentially useful to humans.  For example, the original
  # WordPress id of a character (1234 etc).
  #
  # Optional.
  #
  labels:
  - label_template_1: TEMPLATE
  - label_template_2: TEMPLATE
  - label_template_3: TEMPLATE

  #
  # In future more metadata will likely be needed.
  # How the data was submitted, some kind of digital
  # signature giving Vibrant Games license to basically
  # use the content however it chooses, etc...
  #

#
# The content:
#
npc:
  #
  # Full name of the NPC.
  #
  # Required.
  # Max length: ...
  #
  name: Yrtne Atad

  #
  # The NPC artwork.
  # Comment out this field if it does not yet exist.
  # The filename can include a RELATIVE path:
  #     path/to/my/image.jpg
  # But it CANNOT be an absolute path:
  #     C:\path\to\my\image.jpg
  # For now let us keep all images in one directory,
  # at least until that becomes a scaling nightmare.
  #
  image: TEMPLATE_McTEMPLATESON.jpg

  #
  # Race, class, etc.
  # The taupe block on the left of the page.
  #
  traits:

    #
    # Ages (case insensitive):
    #   - child
    #   - adolescent
    #   - young adult
    #   - middle aged adult
    #   - older adult
    #   - elderly
    #
    # Required.
    #
    age: Young Adult

    #
    # Races (case insensitive):
    #   - dragonborn
    #   - drow
    #   - dwarf
    #   - duergar
    #   - elf
    #   - gnome
    #   - half-elf
    #   - halfling
    #   - half-orc
    #   - human
    #   - orc
    #   - tiefling
    #
    # Any other race is allowed, too.
    #
    # Required.
    # Max length: ...
    #
    race: Half-Troll

    #
    # The sub-race can be anything.
    # For example, swamp gnome or red elf etc.
    #
    # Optional.  Can be commented out.
    # Max length: ...
    #
    sub-race: Huldrefolk

    #
    # Pronouns (case insensitive):
    # - he/him
    # - she/her
    # - they/them
    #
    # Required.
    #
    pronouns: he/him

    #
    # Occupation(s).
    #
    # Required.
    # Max length per occupation: ...
    #
    occupation:
    - Archivist of Collegium Imaginata

    #
    # D & D classes (case insensitive):
    # - civilian
    # - artificer
    # - barbarian
    # - bard
    # - blood hunter
    # - cleric
    # - druid
    # - fighter
    # - monk
    # - paladin
    # - ranger
    # - rogue
    # - shaman
    # - sorcerer
    # - warlock
    # - wizard
    #
    # Required.
    #
    class: Artificer

    #
    # D & D subclasses (case insensitive):
    # - civilian
    # - alchemist
    # - Path of the Berserker
    # - College of Lore
    # - Order of the Profane Soul
    # - Grave Domain
    # - Cirlce of the Moon
    # - Battle Master
    # - Way of Shadow
    # - Oath of Redemption
    # - Gloom Stalker
    # - Thief
    # - Path of the Spirit
    # - Aberrant Mind
    # - Hexblade
    # - School of Abjuration
    #
    # Required.
    #
    subclass: Archivist

    #
    # Class level.
    # 0 for civilian.
    #
    # Required.
    # Integer.
    #
    level: 6

    #
    # Alignments (case insensitive):
    # - lawful good
    # - lawful neutral
    # - lawful evil
    # - neutral good
    # - neutral
    # - neutral evil
    # - chaotic good
    # - chaotic neutral
    # - chaotic evil
    #
    # Required.
    #
    alignment: Lawful Neutral

    #
    # Alignment tendencies:
    # same as alignment, can be 0 or more.
    #
    # Optional.
    #
    tendencies:
    - N/A

    #
    # Languages the character speaks
    # (human, dwarvish, etc).
    #
    # We should use whatever the D & D language names
    # are (dwarvish / dwarven / dwarfish / whatever).
    #
    # Anybody want to list the D & D languages here as examples?
    #
    # 0 o more.  (I.e. optional, but most characters speak at least 1.)
    #
    languages:
    - Common
    - Vedalken
    - Gnomish
    - Elvish
    - Giant

    #
    # Factions:
    # These should be ids of factions (similar YAML file format, eventually).
    # For example:
    #
    # factions:
    # - id: thieves_guild_of_poliwood
    #   name: Thieves Guild of Poliwood
    #   role: Associate Professor of Lockpicking
    # - id: union_of_seamstresses
    #   name: Union of Seamstresses
    #   role: Window dressing
    # - id: cult_of_sky_anthologies
    #   name: Cult of Sky Anthologies
    #   role: Going Clear Sky pastor
    #
    # Optional.  0 or more.
    #
    factions:
    - id: collegium_imaginata
      name: Collegium Imaginata
      role: Archivist

    #
    # Adjectives or other tags that can be used for searching.
    #
    # Optional.  0 or more.
    #
    adjectives:
    - Smart
    - Organized
    - Disgruntled

  improv:

    #
    # Introduction:
    # A block of text the DM can read out to the party.
    # A hooded dwarf darts in front of your party and blows a loud, shrill whistle, splitting your ears, before he runs away laughing.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    introduction:  the strange, orange, troll-like man in has gruff voice confirms "Right, right, those blueprints are right over here in this cabinet"

    #
    # Appearance: a brief description of the character skin, clothes, hair, eyes, etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    appearance:   Short for a Troll, tall for a human, with orange, pocked skin, wild blonde hair, thick glasses and disheveled, dirty clothes

    #
    # Expressions: things the character says all the time, making their speech distinctive.
    # Like, oh my gods!
    # Detritus!
    # Whoah
    # Silly goose
    # etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    expressions:  
    - "Of course I know where that is, I know where everything is"
    - "Do I look like a disorganized idiot to you?"
    - "F$@%&K I hate this job"

    #
    # Mannerisms: what does the character do with their hands?  And eyes, mouth, etc.
    # Do they tap their feet incessantly?  sniff their own underarms to figure out where the odour
    # is coming from?  Etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    mannerisms:   He walks with a hunch, almost dragging his knuckles on the ground. Constantly adjusting his glasses and fidgetting with his collar

  acting:
    #
    # Motivations:
    #
    # Required.
    # ???Maximum length???
    #
    motivations: |
      It's what his family has always done for work. Efficient and logical data keeping and storage

    #
    # Passions:
    #
    # Required.
    # ???Maximum length???
    #
    passions: |
      Paiinting

    #
    # Vulnerabilities:
    #
    # Required.
    # ???Maximum length???
    #
    vulnerabilities: |
      he's exceedingly logical and doesn't handle chaos well, which makes working with scientists and researchers difficult for him

    #
    # Secrets:
    #
    # Required.
    # ???Maximum length???
    #
    secrets: |
      He hates his job and only does it because it's what expected of him by his family

  #
  # The D & D stats block:
  # All integers.
  #
  stats:
    armour-class: 17
    hit-points: 52
    speed: 30
    str: 21
    dex: 13
    con: 16
    int: 22
    wis: 14
    cha: 8

  #
  # Special characteristics.
  #
  # Each is:
  # ???Optional???
  # ???Max length???
  #
  specialties:
    saving-throws:
    - Strength
    - Intelligence
    - Death
    damage-immunities:
    - N/A
    condition-immunities:
    - Poison
    resistances:
    - N/A
    skills:
    - Archiving and Librian
    proficiencies:
    - Arcana
    - Perception    
    - History
    - Nature
    - Tinker's Tools
  special-abilities:
  - title: Troll Abilities
  - abilities: 
    - title: Troll Healing
    - content: Trolls often prove difficult to kill because of their amazing healing powers.  You have advantage on death saving throws.  Additionally, when you spend hit dice to heal, you regain an extra 1d6 hit points for 
               each hit die spent. 
    - title: Powerful Build
    - content: You count as one size larger when determining your carrying capacity and the weight you can push, drag, or lift.  
    - title: Troll Deformity
    - content: The physical shape of a troll is twisted and deformed. They often have multiple heads, warty stone like skin or extra arms. While often horrific in appearance these deformities rarely inconvenience the troll and 
               are often a boon. Pick one from the list below.  
    - content: Horns - you have grown larger than normal horns that may be used as a natural weapon to make unarmed strikes. The horns deal 1d6+strength on a hit.    
    - title: Cast-Iron Gut
    - content: You have advantage on Constitution saving throws against diseases, ingested substances, and effects that rely on inhalation of gases. In addition, you can eat, and live off of more types of foods that most 
               creatures cannot. Such as soft metals, bark, and stone.
    - title: Regeneration
    - content: You can tap into the trolls greatest ability to stave off damage. As a reaction, when you take damage you can expend a Hit Die to reduce the damage by the amount rolled. You cannot reduce the damage if it is 
               acid or fire damage.
  - title: Artificer Abilities
  - abilities:
    - title: Magical Tinkering
    - content: Can invest a spark of magic into mundane objects with a touch - Bright Light, Record Message, Record Sound or Odor, Create Picture or Text
    - title: Artificer Spellcasting 
    - content: Requires Tinker's Tools as Spellcasting focus
    - title: Spell DC
    - content: 18
    - title: Cantrip
    - content: Mage Hand, Message
    - title: 1st Level
    - content: Detect Magic, Identify, Alarm, Sanctuary
    - title: 2nd Level
    - content: Arcane Lock, Enhance Ability
    - title: Infuse Item
    - content: Imbue mundane items with magical infusions, turnig them into magic items. Can attune to that item immediately,
    - title: Infusions Known
    - content: 6  
    - title: The Right Tool for the Job
    - content: Can produce any set of artisan's tools with 1 hour work
    - title: Tool Expertise
    - content: Smith's Tool proficiency bonus is doubled
  - title: Archivist Abilities
  - abilities: 
    - title: Spellcasting
    - abilities:
    - title: Spell DC
    - content: 18
    - title: 3rd Level
    - content: Comprehend Languages, Dissonant Whispers
    - title: 5th Level
    - content: Detect Thoughts, Locate Objecty
    - title: Tools of the Trade
    - content: By the time you adopt this specialty at 3rd level,you’re deeply familiar with employing its tools.
               Proficiencies - You gain proficiency with calligrapher’s supplies and the forgery kit, assuming you don’t already have them. You also gain calligrapher’s supplies and a forgery kit for free—the result of tinkering
               you’ve done as you’ve prepared for this specialization.
               Crafting - If you craft a magic item in the scroll category, it takes you a quarter of the normal time, and it costs you half as much of the usual gold.
    - title: Artificial Mind
    - content: At 3rd level, you discover how to awaken a mind inside an object. Whenever you finish a long rest and your calligrapher’s supplies are with you, you can magically rouse a keen mind within a Tiny, nonmagical object
               on which you write mystical symbols. The object is a magic item while the mind is inside it, and you can use it as a spellcasting focus. If you already have an artificial mind from this feature, the first one 
               immediately dissipates.
    - content: The magic item has the following properties
    - content: Telepathic Advisor - The artificial mind telepathically supplies you with advice and information about certain topics - while the item is on your person, you have proficiency in two skills of your choice; the 
                                    item’s main material determines which skills you can choose from, as shown on the Artificial Mind table in the Skill Proficiencies column, for the nature of the object affects the mind’s 
                                    knowledge.
    - content: Manifest Mind - As a bonus action while the item is on your person, you can cause the mind to manifest as a Tiny spectral presence, hovering in an unoccupied space of your choice within 60 feet of you. This 
                               presence is intangible and invulnerable, and it sheds dim light in a 10-foot radius. You determine its appearance; the Artificial Mind table offers suggested appearances based on the object’s main 
                               material. While manifested, the spectral mind can hear and see, and it has darkvision with a range of 60 feet. As an action, you can hear and see using the mind’s senses, instead of your own, until
                               your concentration ends (as if concentrating on a spell).
                               As a bonus action, you can cause the spectral mind to hover up to 30 feet to an unoccupied space that you or it can see. It can pass through creatures but not objects. The spectral mind stops 
                               manifesting if it is ever more than 300 feet away from its magic item or if you dismiss it as a bonus action.
                               When you cast an artificer spell on your turn,you can cast it as if you were in the spectral mind’s space, instead of your own, using its senses. You can do so a number of times per day equal to 
                               your Intelligence modifier (at least once), and you regain all expended uses when you finish a long rest.
    - content: Information Overload - As an action while the item is on your person, you can try to magically overload the thoughts of one creature you or the mind can see that is within 5 feet of the manifested mind, channeling
                                      a jumble of information from the artificial mind. Unless the target succeeds on an Intelligence saving throw against your spell save DC, the target takes 1d8 psychic damage, and the next 
                                      attack roll against it before the end of your next turn has advantage, since it is temporarily too distracted to defend itself well. The damage increases by 1d8 when you reach 5th level 
                                      (2d8), 11th level(3d8), and 17th level (4d8) in this class. Whenever you deal damage with this feature,you can expend a spell slot to deal extra damage to the target. The extra damage is 
                                      2d8 for a 1st-level spell slot, plus 1d8 for each spell level higher than first.

    - content: Artificial Mind
    - content: Main Material                        Skill Proficiencies                                         Suggested Appearance
    - content: Animal (parchment, leather, bone)    Animal Handling, Insight, Medicine, Perception, Survival    A beast or a humanoid visage with antlers
    - content: Mineral (glass, stone, metal)        Deception, Intimidation, Performance, Persuasion            A robotic or golem-like face
    - content: Plant (paper, wood)                  Arcana, History, Investigation, Nature, Religion            A bespectacled visage or a treant
               
    - title: Mind Network
    - content: At 6th level, you’ve learned how to use your artifices to access minds, both to communicate and to harm.
    - content: Magical Telephony - While you have your Artificial Mind item on your person, you can communicate telepathically with anyone carrying an item bearing one of your artificer infusions, as the mind transmits your 
                                   thoughts to each other. That person can also communicate telepathically with you as long as they have the item. This two-way communication can even cross planar boundaries.
  - title: Feats
  - content: Keen Mind

  - title: Attacks
  - content: Can make 1 attacks with unarmed stirike or spell attack
  - title: Combat Tactics
  - content: He'll go out of his way to avoid a fight, though he is a large powerful being and can throw a pretty mean punch


  profile:

    #
    # Background story:
    # The long form character development.
    #
    # Required.
    # No length limit for now.
    #
    background-story: |
      Yrtne us a half-troll who grew up in a long family line of archivist trolls. It's all he's ever been trained to do. He absolutely hates his job and would rather just spend his time painting. Just because he hates what he 
      does, doesn't mean he's not good at it. He is exceptionally organized and efficient and knows where all of the Collegium's files and records are located at all times. He is also working on a project of his own at the
      Collegium, he is working on an artificial intelligence system that will do his job for him so that he can just paint.

    #
    # Personality (or something like that):
    # Expand on the introduction, appearance, expressions, mannerisms, etc.
    # without any length limits.
    #
    # Required.
    # No length limit for now.
    #
    personality: |
      Large, orange and disheveled, Yrtne is an intelligent and organized individual. He is efficent and optimal, but synical and sarcastic. He has little tolerance for chaos and likes his world to be neatly ordered. This
      makes his life difficult in a world full of mad scientists and scholars.
 