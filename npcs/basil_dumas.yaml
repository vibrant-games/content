#
# Vibrant Games NPC file format.
#
# For long fields, we should be able to embed <html-tag>...</html-tag>s,
# if everyone is cool with that approach.  OR we could use markdown instead.
#
# HTML requires more discipline -- we need to come up with a CSS stylesheet,
# and stick to using the styles defined in our stylesheet.  Markdown is
# simpler, because we can convert and automagically apply the stylesheet.
#
# Long fields are of the form:
#
#     field: |
#       TEMPLATE
#       MORE TEMPLATE
#
# For example, with HTML tags:
#
#     field: |
#       <p> Gorbonzonger the goblin is a very bad goblin.
#       He likes to beat up kobolds. </p>
#       <p class="small"> Kobolds deserve it, anyway. </p>
#       <p> Gorbonzonger has an amulet made of camphor
#       and a very long shopping list that contains many
#       items, some very few of which include: </p>
#       <ul>
#       <li> toilet paper </li>
#       <li> broccoli </li>
#       </ul>
#
# Or with Markdown:
#
#     field: |
#       Gorbonzonger the goblin is a very bad goblin.  He likes to beat up kobolds.
#       Kobolds deserve it, anyway.
#       Gorbonzonger has an amulet made of camphor and a very long shopping list that contains many items, some very few of which include:
#       - toilet paper
#       - broccoli
#
# (There might be other formatting systems worth considering, too!)
#

#
# Currently there is no schema for this template.
# It will take some time to create a validating schema, so that,
# for example, many fields are optional, but some fields are
# required; enumerated fields are only allowed to have certain
# values; and so on.
#
# Once the validating schema is created (probably using
# Open API syntax, unless anyone has any preferences), we'll
# be able to validate submissions and accept / reject if we choose.
#
# Also the validating file format is the ONLY place we do
# content validation.  The database and user interface remain
# agnostic to the validation rules (although the submission
# UI will be set up to make it easy to e.g. pull down enumerated
# values).  This allows us to change the schema in ONE PLACE
# ONLY, not have to modify multiple components (UI, database,
# future mobile apps, etc).  The file format validator is
# the arbiter of what's allowed and what isn't.
#

#
# Template NPC:
#

---

#
# Preliminary fields that describe this overall file:
#
kind: vibrantgames.ca/npc
version: 0.0.2

#
# Information about who submitted the data, when, how, etc.:
#
metadata:
  #
  # A unique identified for this submission.
  # Eventually auto-generated.
  # For now, I suggest: convert the character name to lower case,
  # and replace all spaces and punctuation with underscores (_)
  #
  id: Basil_Dumas

  #
  # The name of the submitter (your name).
  #
  author: Mike Rigby

  #
  # Email address of the submitter.
  #
  email: rigbyma@hotmail.com

  #
  # Date the NPC was created.
  # Must be in ISO 8601 format.
  # You can include the time if you want.
  #
  # E.g. "2021-12-31"
  #      "2021-12-31 23:59:59"
  #
  date: "2021-03-03"

  #
  # Arbitrary labels that are opaque to the system, only
  # potentially useful to humans.  For example, the original
  # WordPress id of a character (1234 etc).
  #
  # Optional.
  #
  labels:
  - label_template_1: TEMPLATE
  - label_template_2: TEMPLATE
  - label_template_3: TEMPLATE

  #
  # In future more metadata will likely be needed.
  # How the data was submitted, some kind of digital
  # signature giving Vibrant Games license to basically
  # use the content however it chooses, etc...
  #

#
# The content:
#
npc:
  #
  # Full name of the NPC.
  #
  # Required.
  # Max length: ...
  #
  name: Basil Dumas

  #
  # The NPC artwork.
  # Comment out this field if it does not yet exist.
  # The filename can include a RELATIVE path:
  #     path/to/my/image.jpg
  # But it CANNOT be an absolute path:
  #     C:\path\to\my\image.jpg
  # For now let us keep all images in one directory,
  # at least until that becomes a scaling nightmare.
  #
  image: TEMPLATE_McTEMPLATESON.jpg

  #
  # Race, class, etc.
  # The taupe block on the left of the page.
  #
  traits:

    #
    # Ages (case insensitive):
    #   - child
    #   - adolescent
    #   - young adult
    #   - middle aged adult
    #   - older adult
    #   - elderly
    #
    # Required.
    #
    age: Older Adult

    #
    # Races (case insensitive):
    #   - dragonborn
    #   - drow
    #   - dwarf
    #   - duergar
    #   - elf
    #   - gnome
    #   - half-elf
    #   - halfling
    #   - half-orc
    #   - human
    #   - orc
    #   - tiefling
    #
    # Any other race is allowed, too.
    #
    # Required.
    # Max length: ...
    #
    race: Human

    #
    # The sub-race can be anything.
    # For example, swamp gnome or red elf etc.
    #
    # Optional.  Can be commented out.
    # Max length: ...
    #
    sub-race: N/A

    #
    # Pronouns (case insensitive):
    # - he/him
    # - she/her
    # - they/them
    #
    # Required.
    #
    pronouns: he/him

    #
    # Occupation(s).
    #
    # Required.
    # Max length per occupation: ...
    #
    occupation:
    - Banker
    

    #
    # D & D classes (case insensitive):
    # - civilian
    # - artificer
    # - barbarian
    # - bard
    # - blood hunter
    # - cleric
    # - druid
    # - fighter
    # - monk
    # - paladin
    # - ranger
    # - rogue
    # - shaman
    # - sorcerer
    # - warlock
    # - wizard
    #
    # Required.
    #
    class: Civilian

    #
    # D & D subclasses (case insensitive):
    # - civilian
    # - alchemist
    # - Path of the Berserker
    # - College of Lore
    # - Order of the Profane Soul
    # - Grave Domain
    # - Cirlce of the Moon
    # - Battle Master
    # - Way of Shadow
    # - Oath of Redemption
    # - Gloom Stalker
    # - Thief
    # - Path of the Spirit
    # - Aberrant Mind
    # - Hexblade
    # - School of Abjuration
    #
    # Required.
    #
    subclass: N/A

    #
    # Class level.
    # 0 for civilian.
    #
    # Required.
    # Integer.
    #
    level: 10

    #
    # Alignments (case insensitive):
    # - lawful good
    # - lawful neutral
    # - lawful evil
    # - neutral good
    # - neutral
    # - neutral evil
    # - chaotic good
    # - chaotic neutral
    # - chaotic evil
    #
    # Required.
    #
    alignment: Lawful Evil

    #
    # Alignment tendencies:
    # same as alignment, can be 0 or more.
    #
    # Optional.
    #
    tendencies:
    - N/A


    #
    # Languages the character speaks
    # (human, dwarvish, etc).
    #
    # We should use whatever the D & D language names
    # are (dwarvish / dwarven / dwarfish / whatever).
    #
    # Anybody want to list the D & D languages here as examples?
    #
    # 0 o more.  (I.e. optional, but most characters speak at least 1.)
    #
    languages:
    - Common
    - Infernal
    - Abyssal

    #
    # Factions:
    # These should be ids of factions (similar YAML file format, eventually).
    # For example:
    #
    # factions:
    # - id: thieves_guild_of_poliwood
    #   name: Thieves Guild of Poliwood
    #   role: Associate Professor of Lockpicking
    # - id: union_of_seamstresses
    #   name: Union of Seamstresses
    #   role: Window dressing
    # - id: cult_of_sky_anthologies
    #   name: Cult of Sky Anthologies
    #   role: Going Clear Sky pastor
    #
    # Optional.  0 or more.
    #
    factions:
    - id: Dumas_Family
      name: Dumas Family
      role: Financier, Venture Capitalist


    #
    # Adjectives or other tags that can be used for searching.
    #
    # Optional.  0 or more.
    #
    adjectives:
    - Brusque
    - Stuffy
    - Egocentric

  improv:

    #
    # Introduction:
    # A block of text the DM can read out to the party.
    # A hooded dwarf darts in front of your party and blows a loud, shrill whistle, splitting your ears, before he runs away laughing.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    introduction:  \"So you'd like to borrow some money?\" Says the small, weasely, balding man behind the carved oak banker's desk 

    #
    # Appearance: a brief description of the character skin, clothes, hair, eyes, etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    appearance:  Short, aged and scrawny with pointed weasely features. Fine bankers clothes, mostly bald with a whispy red comb-over

    #
    # Expressions: things the character says all the time, making their speech distinctive.
    # Like, oh my gods!
    # Detritus!
    # Whoah
    # Silly goose
    # etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    expressions:  \"How is your credit?\"; \"I might be able to arrange something if you'd perhaps be willing to do a favor for my family\"

    #
    # Mannerisms: what does the character do with their hands?  And eyes, mouth, etc.
    # Do they tap their feet incessantly?  sniff their own underarms to figure out where the odour
    # is coming from?  Etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    mannerisms:   Adjusts his glasses, often sweaty even in colder tempuratures.

  acting:
    #
    # Motivations:
    #
    # Required.
    # ???Maximum length???
    #
    motivations: |
      Greed
      
    #
    # Passions:
    #
    # Required.
    # ???Maximum length???
    #
    passions: |
      Gold
      
    #
    # Vulnerabilities:
    #
    # Required.
    # ???Maximum length???
    #
    vulnerabilities: |
      He's got a very high opinion of himself
      
    #
    # Secrets:
    #
    # Required.
    # ???Maximum length???
    #
    secrets: |
      He is a Werewolf
      
  #
  # The D & D stats block:
  # All integers.
  #
  stats:
    armour-class: 16
    hit-points: 103
    speed: 50
    str: 19
    dex: 20
    con: 18
    int: 17
    wis: 12
    cha: 13

  #
  # Special characteristics.
  #
  # Each is:
  # ???Optional???
  # ???Max length???
  #
  specialties:
    saving-throws:
    - Strength
    - Dexterity
    damage-immunities:
    - Non-Magic or Non-Silver Bludgeoning, Piercing and Slashing
    condition-immunities:
    - N/A
    resistances:
    - Poison
    skills:
    - Banking and Investment Finance
    proficiencies:
    - History
    - Perception
    - Deception    
    - Intimidation
    - Persuasion
  special-abilities:
  - title: Werewolf Abilities
  - abilities: 
    - title: Keen Hearing and Smell
    - content: Advantage on perception rolls that involve Hearing and Sight
    - title: Tough Hide
    - content: +2 to AC in Wolf and Half-Wolf forms. 
    - title: Lycan Immunity
    - content: Immune to non-magic or non-silver Bludgeoning, Piercing and Slashing damage in all its forms. Resistance to poison 
    - title: Heightened Prowess
    - content: +1 to Strength and Dexterity saving throws in Wolf or Half-Wolf
    - title: Shapeshift
    - content: Can use its action to polymorph into a wolf-humanoid hybrid or into a wolf, or back into its true form, which is humanoid. Any equipment it is wearing or carrying isn't transformed. It reverts to its true
               form if it dies
    - title: The Curse
    - content: Humanoid Creatures you bite must make a constitution saving throw against DC 15 or become cursed with Lycanthrope
    - title: Spellcasting
    - content: Basil has taken the time to learn the Arcane Lock and Alarm spells for use only on his Arcane Lock Box. The spells are considered 5th level and must be cast as a ritual that takes 1 minute    
    - title: Feats
    - content: Keen Mind, Observant, Prodigy 
  - title: Legendary Resistance
  - content: (3/Day), If Basil Dumas fails a saving throw she can choose to succeed instead 
  - title: Legendary Actions
  - content: Basil Dumas can take 3 Legendary Actions. Choosing from the options from below, Only one Legendary Action can be used at a time and only at the end of another creature's turn. Basil Dumas regains spent Legendary Actions at the start of his turn.
  - abilities:
    - title: Devil's Portal
    - content: Basil can cast Gate, opening a portal and send one person who fails a DC 15 Dexterity directly to the realm of his master for 1 minute
    - title: Ferocious Bite
    - content: Basil Dumas makes a bite attack
    - title: Family Reserve
    - content: Basil Dumas can cast Gate, opening up to 5 portals to summon other members of the Dumas Family to join the fight

  - title: Attacks
  - content: 3 Attacks - 1 Bite (1D8+str) and 2 Claws (2D4+str)
  - title: Combat Tactics
  - content: He attacks with feral passion
  
  - title: Special Equipment
  - abilities:
    - title: Pen of Endless Ink
    - content: This pen never runs out of ink. Though truly a novelty, the ink that comes from the pen is of poor quality, making it unusable in the writing of spell scrolls, spellbooks, and other delicate magical writings.
    - title: Broken Pocket Watch
    - content: It’s rare to find a pocket watch at all outside of gnomish settlements. This one seems to be broken, as it sometimes skips back a few seconds. It holds great power for the one who attunes it, though. The broken 
               pocket watch has 3 charges. On your turn, you can spend 1 charge to take an additional bonus action, as the pocket watch ticks back by two seconds to give you another moment for something quick. Once you spend a 
               charge, you can’t spend another for 1 hour. The pocket watch regains 1 expended charge at dawn.
    - content: Alternately, you can force it to turn backward as far as it can go. This does not require an action or any charges from the pocket watch, but you can’t do this if you are incapacitated. You teleport to any 
               location you have been earlier in this turn, you regain any hit points you have lost since the beginning of your turn, and you can immediately take another turn. The pocket watch falls apart after that, and can’t 
               be repaired. After 1 minute, you suffer one level of exhaustion.
    - title: Arcane Lock Box
    - content: This small chest weighs 10 lbs. and is made entirely of brass or iron. The box holds 3 cubic feet or 75 lbs. of items, and objects within are considered to be under the effects of a nondetection spell. Only the 
               creature attuned to the box can open it freely. It has no keyhole, handle, or outside mechanism, making all standard non-magical means of opening it (like lock-picking) impossible. It can be broken open with a 
               Strength check of DC 25.
    - content: The arcane lock spell can be cast upon the box as a ritual. If the alarm spell is cast upon the box as a ritual, its duration is twice as long.
               If a knock spell is cast upon the box, the caster must make a DC 15 (or DC 20 if the box is secured with arcane lock) ability check using their spellcasting ability. If the check fails, the spell does not open the
               box.
    - content: If a dispel magic spell is cast upon the box, the spells affecting the box are considered to be 5th level.
    - content: If a creature attuned to the box is more than 100 feet away from it, they do not loose their attunement until 1 week has passed
    
  profile:

    #
    # Background story:
    # The long form character development.
    #
    # Required.
    # No length limit for now.
    #
    background-story: |
      Basil Dumas is the oldest son of Anastasia and the money man of the family. He handles all of the banking and investments of the Dumas Family. He was taught by his father, who ammassed the family fortune as a landlord
      and moneylender before his untimely death, the ways of the financial world.  He is a brilliant financial mind and shrewd businessman, and uses that to the benefit of the family, often investing in businesses and organization in return for 
      favors for the family. When he was a young man, he closed a business deal that evicted an elderly lady and her family. As a result, The lady cursed Basil with the curse of Lycanthropy. Over the years he has managed to 
      gain mastery over the curse, banding it to his will and like all things in his life, to his advantage.
      
    #
    # Personality (or something like that):
    # Expand on the introduction, appearance, expressions, mannerisms, etc.
    # without any length limits.
    #
    # Required.
    # No length limit for now.
    #
    personality: |
      Basil Dumas is an aging human man. Short, thin and balding, with a whispy comb-over and pointy features. He is always impeccably dressed in fine business attire. He is brusque, impatient and overly self-important. He has a 
      cunning head for business and a cunning sense for the hunt. His wolf and half-wolf forms are still short for a lycanthrope, but heavily muscled and covered in a thick silver-gray coat fur. He wears glasses when in his 
      human form although he does not need them because of his lycanthropic senses.
 