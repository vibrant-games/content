#
# Vibrant Games NPC file format.
#
# For long fields, we should be able to embed <html-tag>...</html-tag>s,
# if everyone is cool with that approach.  OR we could use markdown instead.
#
# HTML requires more discipline -- we need to come up with a CSS stylesheet,
# and stick to using the styles defined in our stylesheet.  Markdown is
# simpler, because we can convert and automagically apply the stylesheet.
#
# Long fields are of the form:
#
#     field: |
#       TEMPLATE
#       MORE TEMPLATE
#
# For example, with HTML tags:
#
#     field: |
#       <p> Gorbonzonger the goblin is a very bad goblin.
#       He likes to beat up kobolds. </p>
#       <p class="small"> Kobolds deserve it, anyway. </p>
#       <p> Gorbonzonger has an amulet made of camphor
#       and a very long shopping list that contains many
#       items, some very few of which include: </p>
#       <ul>
#       <li> toilet paper </li>
#       <li> broccoli </li>
#       </ul>
#
# Or with Markdown:
#
#     field: |
#       Gorbonzonger the goblin is a very bad goblin.  He likes to beat up kobolds.
#       Kobolds deserve it, anyway.
#       Gorbonzonger has an amulet made of camphor and a very long shopping list that contains many items, some very few of which include:
#       - toilet paper
#       - broccoli
#
# (There might be other formatting systems worth considering, too!)
#

#
# Currently there is no schema for this template.
# It will take some time to create a validating schema, so that,
# for example, many fields are optional, but some fields are
# required; enumerated fields are only allowed to have certain
# values; and so on.
#
# Once the validating schema is created (probably using
# Open API syntax, unless anyone has any preferences), we'll
# be able to validate submissions and accept / reject if we choose.
#
# Also the validating file format is the ONLY place we do
# content validation.  The database and user interface remain
# agnostic to the validation rules (although the submission
# UI will be set up to make it easy to e.g. pull down enumerated
# values).  This allows us to change the schema in ONE PLACE
# ONLY, not have to modify multiple components (UI, database,
# future mobile apps, etc).  The file format validator is
# the arbiter of what's allowed and what isn't.
#

#
# Template NPC:
#

---

#
# Preliminary fields that describe this overall file:
#
kind: vibrantgames.ca/npc
version: 0.0.2

#
# Information about who submitted the data, when, how, etc.:
#
metadata:
  #
  # A unique identified for this submission.
  # Eventually auto-generated.
  # For now, I suggest: convert the character name to lower case,
  # and replace all spaces and punctuation with underscores (_)
  #
  id: hamza

  #
  # The name of the submitter (your name).
  #
  author: Mike Rigby

  #
  # Email address of the submitter.
  #
  email: rigbyma@hotmail.com

  #
  # Date the NPC was created.
  # Must be in ISO 8601 format.
  # You can include the time if you want.
  #
  # E.g. "2021-12-31"
  #      "2021-12-31 23:59:59"
  #
  date: "2021-05-27"

  #
  # Arbitrary labels that are opaque to the system, only
  # potentially useful to humans.  For example, the original
  # WordPress id of a character (1234 etc).
  #
  # Optional.
  #
  labels:
  - label_template_1: TEMPLATE
  - label_template_2: TEMPLATE
  - label_template_3: TEMPLATE

  #
  # In future more metadata will likely be needed.
  # How the data was submitted, some kind of digital
  # signature giving Vibrant Games license to basically
  # use the content however it chooses, etc...
  #

#
# The content:
#
npc:
  #
  # Full name of the NPC.
  #
  # Required.
  # Max length: ...
  #
  name: Ham'za

  #
  # The NPC artwork.
  # Comment out this field if it does not yet exist.
  # The filename can include a RELATIVE path:
  #     path/to/my/image.jpg
  # But it CANNOT be an absolute path:
  #     C:\path\to\my\image.jpg
  # For now let us keep all images in one directory,
  # at least until that becomes a scaling nightmare.
  #
  image: TEMPLATE_McTEMPLATESON.jpg

  #
  # Race, class, etc.
  # The taupe block on the left of the page.
  #
  traits:

    #
    # Ages (case insensitive):
    #   - child
    #   - adolescent
    #   - young adult
    #   - middle aged adult
    #   - older adult
    #   - elderly
    #
    # Required.
    #
    age: Middle Aged Adult

    #
    # Races (case insensitive):
    #   - dragonborn
    #   - drow
    #   - dwarf
    #   - duergar
    #   - elf
    #   - gnome
    #   - half-elf
    #   - halfling
    #   - half-orc
    #   - human
    #   - orc
    #   - tiefling
    #
    # Any other race is allowed, too.
    #
    # Required.
    # Max length: ...
    #
    race: Gith

    #
    # The sub-race can be anything.
    # For example, swamp gnome or red elf etc.
    #
    # Optional.  Can be commented out.
    # Max length: ...
    #
    sub-race: Githyanki

    #
    # Pronouns (case insensitive):
    # - he/him
    # - she/her
    # - they/them
    #
    # Required.
    #
    pronouns: he/him

    #
    # Occupation(s).
    #
    # Required.
    # Max length per occupation: ...
    #
    occupation:
    - Raider

    #
    # D & D classes (case insensitive):
    # - civilian
    # - artificer
    # - barbarian
    # - bard
    # - blood hunter
    # - cleric
    # - druid
    # - fighter
    # - monk
    # - paladin
    # - ranger
    # - rogue
    # - shaman
    # - sorcerer
    # - warlock
    # - wizard
    #
    # Required.
    #
    class: Fighter

    #
    # D & D subclasses (case insensitive):
    # - civilian
    # - alchemist
    # - Path of the Berserker
    # - College of Lore
    # - Order of the Profane Soul
    # - Grave Domain
    # - Cirlce of the Moon
    # - Battle Master
    # - Way of Shadow
    # - Oath of Redemption
    # - Gloom Stalker
    # - Thief
    # - Path of the Spirit
    # - Aberrant Mind
    # - Hexblade
    # - School of Abjuration
    #
    # Required.
    #
    subclass: Psi Warrior

    #
    # Class level.
    # 0 for civilian.
    #
    # Required.
    # Integer.
    #
    level: 18

    #
    # Alignments (case insensitive):
    # - lawful good
    # - lawful neutral
    # - lawful evil
    # - neutral good
    # - neutral
    # - neutral evil
    # - chaotic good
    # - chaotic neutral
    # - chaotic evil
    #
    # Required.
    #
    alignment: Chaotic Evil

    #
    # Alignment tendencies:
    # same as alignment, can be 0 or more.
    #
    # Optional.
    #
    tendencies:
    - N/A

    #
    # Languages the character speaks
    # (human, dwarvish, etc).
    #
    # We should use whatever the D & D language names
    # are (dwarvish / dwarven / dwarfish / whatever).
    #
    # Anybody want to list the D & D languages here as examples?
    #
    # 0 o more.  (I.e. optional, but most characters speak at least 1.)
    #
    languages:
    - Gith
    - Undercommon
    - Common
    - Draconic
    - Abyssal
    - Celestial

    #
    # Factions:
    # These should be ids of factions (similar YAML file format, eventually).
    # For example:
    #
    # factions:
    # - id: thieves_guild_of_poliwood
    #   name: Thieves Guild of Poliwood
    #   role: Associate Professor of Lockpicking
    # - id: union_of_seamstresses
    #   name: Union of Seamstresses
    #   role: Window dressing    # - id: cult_of_sky_anthologies
    #   name: Cult of Sky Anthologies
    #   role: Going Clear Sky pastor
    #
    # Optional.  0 or more.
    #
    factions:
    - N/A

    #
    # Adjectives or other tags that can be used for searching.
    #
    # Optional.  0 or more.
    #
    adjectives:
    - Vicious
    - Terrifying
    - Lazy

  improv:

    #
    # Introduction:
    # A block of text the DM can read out to the party.
    # A hooded dwarf darts in front of your party and blows a loud, shrill whistle, splitting your ears, before he runs away laughing.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    introduction:  A strangely tall gaunt figure approaches through the mist of the battlefield. "Perfect! More pathetic creatures to kill"

    #
    # Appearance: a brief description of the character skin, clothes, hair, eyes, etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    appearance:   6'9", gaunt and wiry. Yellow skin, black eyes and black hair in a topknot. Armored with jewels, feathers and bones

    #
    # Expressions: things the character says all the time, making their speech distinctive.
    # Like, oh my gods!
    # Detritus!
    # Whoah
    # Silly goose
    # etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    expressions:  When he speaks, he mostly only speaks in Gith because other languages are beneath him

    #
    # Mannerisms: what does the character do with their hands?  And eyes, mouth, etc.
    # Do they tap their feet incessantly?  sniff their own underarms to figure out where the odour
    # is coming from?  Etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    mannerisms:   Regal but aggressive posture

  acting:
    #
    # Motivations:
    #
    # Required.
    # ???Maximum length???
    #
    motivations: |
      Complete disdain for rules and society. Ambitious and fiercely individualistic
      
    #
    # Passions:
    #
    # Required.
    # ???Maximum length???
    #
    passions: |
      He's not passionate about much other than killing. He's mostly bored and unenthusiastic about everything else
      
    #
    # Vulnerabilities:
    #
    # Required.
    # ???Maximum length???
    #
    vulnerabilities: |
      Arrogant, Smug, Sadistic, Rude. Overconfident. Shallow and unwilling to finish what he starts do to loss of interest
      
    #
    # Secrets:
    #
    # Required.
    # ???Maximum length???
    #
    secrets: | 
      He cannot return to his people after tiring of and rejecting their strong militaristic society

  #
  # The D & D stats block:
  # All integers.
  #
  stats:
    armour-class: 22
    hit-points: 214
    speed: 35
    str: 20
    dex: 18
    con: 17
    int: 20
    wis: 14
    cha: 19

  #
  # Special characteristics.
  #
  # Each is:
  # ???Optional???
  # ???Max length???
  #
  specialties:
    saving-throws:
    - Constitution
    - Intelligence
    - Strength
    damage-immunities:
    - Necrotic and Psychic
    condition-immunities:
    - Frightened, Charmed, Poisoned, Stunned
    resistances:
    - Fire, Poison, Cold, Lightning
    skills:
    - Everything
    proficiencies:
    - Survival
    - Perception
    - Deception    
    - Intimidation
    - Insight
    - Athletics
    - All Artisan's Tools
  special-abilities:
  - title: Githyanki Abilities
  - abilities: 
    - title: Decadent Mastery
    - content: Proficiency with all artisan's tools           
    - title: Martial Prodigy
    - content: You are proficient with light and medium armor and with shortswords, longswords, and greatswords
    - title: Githyanki Psionics
    - content: You know the Mage Hand cantrip, and the hand is invisible when you cast the cantrip with this trait. When you reach 3rd level, you can cast the Jump spell once with this trait, and you regain the
               ability to do so when you finish a long rest. When you reach 5th level, you can cast the Misty Step spell once with this trait, and you regain the ability to do so when you finish a long rest.
               Intelligence is your spellcasting ability for these spells. When you cast them with this trait, they don't require components
  - title: Fighter Abilities
  - abilities:
    - title: Fighting Style
    - content: Great Weapon Fighting - When you roll a 1 or 2 on a damage die for an attack you make with a melee weapon that you are wielding with two hands, you can reroll the die and must use the new roll, even if the new 
               roll is a 1 or a 2. The weapon must have the two-handed or versatile property for you to gain this benefit.
    - title: Second Wind
    - content: Bonus Action to regain 1d10 + 18
    - title: Action Surge
    - content: Once every short/long rest can take an extra action
    - title: Extra Attack
    - content: Can attack twice each turn
    - title: Indomitable
    - content: you can reroll a saving throw that you fail. If you do so, you must use the new roll, and you can use this feature 3 times per Long Rest.
  - title: Psi Knight Abilities
  - abilities: 
    - title: Psionic Talents
    - content: You harbor a wellspring of psionic power within yourself, an energy that ebbs and flows as you channel it in various ways. This power is represented by your Psionic Talent die, the starting size of 
               which is a d6.
    - title: Psionic Talent Options
    - content: You can use your Psionic Talent die in the following ways - 
    - title: Protective Field
    - content: When you or another creature you can see within 30 feet of you takes damage, you can use your reaction to roll your Psionic Talent die and reduce the damage taken by the number 
               rolled plus your Intelligence modifier (minimum reduction of 1), as you create a momentary shield of telekinetic force.
    - title: Psi-Powered Leap
    - content: When you make a high or long jump, you can roll your Psionic Talent die and extend the distance of the jump, up to a number of feet equal to twice the number rolled plus twice 
               your Intelligence modifier (minimum of 1 extra foot). This extra distance costs you only 1 foot of movement. <br>
               Telekinetic Strike - You can propel your attacks with telekinetic force. Once on each of your turns, immediately after you deal damage to a target within 30 feet of you with a weapon  attack, you 
                                    can roll your Psionic Talent die and also deal force damage to the target equal to the number rolled. <br>
               Changing the Die’s Size - If you roll the highest number on your Psionic Talent die, it decreases by one die size after the roll. This represents you burning through your psionic energy. For example,
                                         if the die is a d6 and you roll a 6, it becomes a d4. If it’s a d4 and you roll a 4, it becomes unusable until you finish a long rest. Conversely, if you roll a 1 on your Psionic
                                         Talent die, it increases by one die size after the roll, up to its starting size. This represents you conserving psionic energy for later use. For example, if you roll a 1 on a d4,
                                         the die then becomes a d6. Whenever you finish a long rest, your Psionic Talent die resets to its starting size. When you reach certain levels in this class, the starting 
                                         size of your Psionic Talent die increases - at 5th level (d8), 11th level (d10), and 17th level (d12). <br>
               Psi Replenishment - As a bonus action, you can calm your mind for a moment and restore your Psionic Talent die to its starting size. You then can’t use Psi Replenishment again until you finish a long rest.<br>
    - title: Telekinetic Adept
    - content: You have mastered new ways to use your telekinesis <br>
               Psionic Thrust - When you deal damage to a target with the Telekinetic Strike of your Psionic Talent, you can force the target to make a Strength saving throw against a DC equal to 8 + your 
                                proficiency bonus + your Intelligence modifier. Unless the save succeeds, you can knock the target prone or move it up to 10 feet in any direction horizontally. <br>
               Telekinetic Movement - If your Psionic Talent die is available, you can move an object or a creature with your mind. As an action, you target one loose object that is Large or smaller or one willing 
                                      creature, other than yourself. If you can see the target and it is within 30 feet of you, you can move it up to 30 feet to an unoccupied space you can see. Alternatively, if it
                                      is a Tiny object, you can move it to or from your hand. Either way, you can move the target horizontally, vertically, or both. When you take this action, your Psionic Talent die 
                                      decreases by one die size. <br>
    - title: Psi-Enhanced Metabolism
    - content: The psionic energy flowing through you has bolstered your mind and body. You have resistance to poison and psychic damage, and you are immune to the poisoned condition.
    - title: Bulwark of Force
    - content: You can shield yourself and others with telekinetic force. As a bonus action, you can choose creatures, which can include you, that you can see within 30 feet of you, up to a number of creatures 
               equal to your Intelligence modifier (minimum of one creature). Each of the chosen creatures is protected by half cover for 1 minute or until you’re incapacitated. Once you use this feature, you can’t
               do so again until you finish a long rest, unless you decrease your Psionic Talent die by one die size to use this feature again.
    - title: Telekinetic Master
    - content: Your ability to move creatures and objects with your mind is matched by few. If your Psionic Talent die is available, you can cast the telekinesis spell, requiring no components. Your spellcasting 
               ability for the spell is Intelligence. When you cast this spell, your Psionic Talent die decreases by one die size

  - title: Legendary Resistance
  - content: (3/Day), If Ham'za fails a saving throw she can choose to succeed instead 
  - title: Legendary Actions 
  - content: Ham'za can take 3 Legendary Actions. Choosing from the options from below, Only one Legendary Action can be used at a time and only at the end of another creature's turn. Ham'za regains spent Legendary Actions at 
             the start of her turn
  - abilities: 
    - title: Gith Portal
    - content: Ham'za can cast Teleport, travelling to anywhere he's been before regardless of distance
    - title: Word of the Gith
    - content: Ham'za casts Power Word Kill. He may only do this once per long rest
    - title: Psionic Reserve
    - content: Ham'za replenish all of his Psionic Energy Dice. He may only do this once per long rest
  - title: Aura of Fear
  - content: Due to his terrifying presence, any creature within 10 ft. of Ham'za must make a DC18 Wisdom saving throw or become frightened. If that saving throw is successful, that creature is immune for the next 24 hours
  - title: Feats
  - content: Wild Talent, Telepathic, Telekenetic, Sentinel, Savage Attacker, Mobile, Mage Slayer, Keen Mind, Great Weapons Master, Dual Weilder, Alert, Sharpshooter
  - title: Attacks
  - content: 4 attacks with Psionic attacks or his Great Sword
  - title: Combat Tactics
  - content: He will fight anyone, anywhere, anytime
    
  - title: Special Equipment
  - abilities:
    - title: Silver GreatSword
    - content: These silver greatswords are the Githyanki's sacred weapons, and are capable of cutting the cord that tethers a creature to their astral body. You gain a +3 bonus to attack and damage rolls made with this magic 
               weapon. If you attack a creature's astral body (that is, the creature is under the effect of the astral projection spell or similar magic) and the attack was a critical hit, you sever that creature's astral cord.
    - title: Ebony Plate Mail
    - content: While wearing it, you have an extra +4 bonus to your AC. When you wear this pitch black plate armor, you do not incur the normal disadvange on Dexterity (Stealth) checks, and instead gain advantage on such checks.
               Whenever a hostile creature comes within 5 feet of you, and whenever it begins its turn within 5 feet of you, it suffers 1d4 poison damage.
    - title: Bow of the Hunter's Markdown
    - content: This Bow gives it's weilder +3 to attack and damage rolls, critical hits on 19s and 20s, and allows the weilder to cast the Hunter's Mark spell as a bonus action
    - title: Magic Arrows
    - content: An assortment of various magical arrows including; Walloping Arrows, Arrows of Slaying, Explosive Arrows, Lightning Arrows, etc.
    - title: Wand of Fireballs
    - content: This wand has 7 charges. While holding it, you can use an action to expend 1 or more of its charges to cast the fireball spell (save DC 15) from it. For 1 charge, you cast the 3rd-level version of the spell. You 
               can increase the spell slot level by one for each additional charge you expend. The wand regains 1d6 + 1 expended charges daily at dawn. If you expend the wand's last charge, roll a d20. On a 1, the wand crumbles 
               into ashes and is destroyed.
                                                                   
  profile:

    #
    # Background story:
    # The long form character development.
    #
    # Required.
    # No length limit for now.
    #
    background-story: |
      Trained from birth as a Knight and a Gish, Ham'za is a warrior of the highest degree. The combination of his martial and psi abilities make him an unstoppable killing machine, unless he loses interest in the fight. He is
      also a rebel among his people. After living hundreds of years in the Astral Plane, he grew tired of the rigid militaristic ways of his people and escaped to the material plane to find new sources of entertainment.
      Arrogant, aggressive and cruel, his favorite source of entertainment is battle and torture. He may briefly align himself with a party if he thinks their goals might be fun and keep him entertained for a while, but
      it's unlikely he'll remain on their side for long if there's not enough battle to keep his interest.  At which point, he'll probably just kill them and continue on his journey

    #
    # Personality (or something like that):
    # Expand on the introduction, appearance, expressions, mannerisms, etc.
    # without any length limits.
    #
    # Required.
    # No length limit for now.
    #
    personality: |
      6'9", gaunt and wiry. Yellow skin, black eyes and black hair in a topknot. His Ebony Armor is decorated with jewels, feathers and bones. He is basically chaos incarnate. 
