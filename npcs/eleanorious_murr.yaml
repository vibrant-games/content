#
# Vibrant Games NPC file format.
#
# For long fields, we should be able to embed <html-tag>...</html-tag>s,
# if everyone is cool with that approach.  OR we could use markdown instead.
#
# HTML requires more discipline -- we need to come up with a CSS stylesheet,
# and stick to using the styles defined in our stylesheet.  Markdown is
# simpler, because we can convert and automagically apply the stylesheet.
#
# Long fields are of the form:
#
#     field: |
#       TEMPLATE
#       MORE TEMPLATE
#
# For example, with HTML tags:
#
#     field: |
#       <p> Gorbonzonger the goblin is a very bad goblin.
#       He likes to beat up kobolds. </p>
#       <p class="small"> Kobolds deserve it, anyway. </p>
#       <p> Gorbonzonger has an amulet made of camphor
#       and a very long shopping list that contains many
#       items, some very few of which include: </p>
#       <ul>
#       <li> toilet paper </li>
#       <li> broccoli </li>
#       </ul>
#
# Or with Markdown:
#
#     field: |
#       Gorbonzonger the goblin is a very bad goblin.  He likes to beat up kobolds.
#       Kobolds deserve it, anyway.
#       Gorbonzonger has an amulet made of camphor and a very long shopping list that contains many items, some very few of which include:
#       - toilet paper
#       - broccoli
#
# (There might be other formatting systems worth considering, too!)
#

#
# Currently there is no schema for this template.
# It will take some time to create a validating schema, so that,
# for example, many fields are optional, but some fields are
# required; enumerated fields are only allowed to have certain
# values; and so on.
#
# Once the validating schema is created (probably using
# Open API syntax, unless anyone has any preferences), we'll
# be able to validate submissions and accept / reject if we choose.
#
# Also the validating file format is the ONLY place we do
# content validation.  The database and user interface remain
# agnostic to the validation rules (although the submission
# UI will be set up to make it easy to e.g. pull down enumerated
# values).  This allows us to change the schema in ONE PLACE
# ONLY, not have to modify multiple components (UI, database,
# future mobile apps, etc).  The file format validator is
# the arbiter of what's allowed and what isn't.
#

#
# Template NPC:
#

---

#
# Preliminary fields that describe this overall file:
#
kind: vibrantgames.ca/npc
version: 0.0.2

#
# Information about who submitted the data, when, how, etc.:
#
metadata:
  #
  # A unique identified for this submission.
  # Eventually auto-generated.
  # For now, I suggest: convert the character name to lower case,
  # and replace all spaces and punctuation with underscores (_)
  #
  id: eleanorious_murr

  #
  # The name of the submitter (your name).
  #
  author: Mike Rigby

  #
  # Email address of the submitter.
  #
  email: rigbyma@hotmail.com

  #
  # Date the NPC was created.
  # Must be in ISO 8601 format.
  # You can include the time if you want.
  #
  # E.g. "2021-12-31"
  #      "2021-12-31 23:59:59"
  #
  date: "2021-05-25"

  #
  # Arbitrary labels that are opaque to the system, only
  # potentially useful to humans.  For example, the original
  # WordPress id of a character (1234 etc).
  #
  # Optional.
  #
  labels:
  - label_template_1: TEMPLATE
  - label_template_2: TEMPLATE
  - label_template_3: TEMPLATE

  #
  # In future more metadata will likely be needed.
  # How the data was submitted, some kind of digital
  # signature giving Vibrant Games license to basically
  # use the content however it chooses, etc...
  #

#
# The content:
#
npc:
  #
  # Full name of the NPC.
  #
  # Required.
  # Max length: ...
  #
  name: Eleanorious Murr

  #
  # The NPC artwork.
  # Comment out this field if it does not yet exist.
  # The filename can include a RELATIVE path:
  #     path/to/my/image.jpg
  # But it CANNOT be an absolute path:
  #     C:\path\to\my\image.jpg
  # For now let us keep all images in one directory,
  # at least until that becomes a scaling nightmare.
  #
  image: TEMPLATE_McTEMPLATESON.jpg

  #
  # Race, class, etc.
  # The taupe block on the left of the page.
  #
  traits:

    #
    # Ages (case insensitive):
    #   - child
    #   - adolescent
    #   - young adult
    #   - middle aged adult
    #   - older adult
    #   - elderly
    #
    # Required.
    #
    age: Young Adult

    #
    # Races (case insensitive):
    #   - dragonborn
    #   - drow
    #   - dwarf
    #   - duergar
    #   - elf
    #   - gnome
    #   - half-elf
    #   - halfling
    #   - half-orc
    #   - human
    #   - orc
    #   - tiefling
    #
    # Any other race is allowed, too.
    #
    # Required.
    # Max length: ...
    #
    race: Dragonborn

    #
    # The sub-race can be anything.
    # For example, swamp gnome or red elf etc.
    #
    # Optional.  Can be commented out.
    # Max length: ...
    #
    sub-race: Copper

    #
    # Pronouns (case insensitive):
    # - he/him
    # - she/her
    # - they/them
    #
    # Required.
    #
    pronouns: she/her

    #
    # Occupation(s).
    #
    # Required.
    # Max length per occupation: ...
    #
    occupation:
    - Alchemist/Prophylactary Proprietor

    #
    # D & D classes (case insensitive):
    # - civilian
    # - artificer
    # - barbarian
    # - bard
    # - blood hunter
    # - cleric
    # - druid
    # - fighter
    # - monk
    # - paladin
    # - ranger
    # - rogue
    # - shaman
    # - sorcerer
    # - warlock
    # - wizard
    #
    # Required.
    #
    class: Artificer

    #
    # D & D subclasses (case insensitive):
    # - civilian
    # - alchemist
    # - Path of the Berserker
    # - College of Lore
    # - Order of the Profane Soul
    # - Grave Domain
    # - Cirlce of the Moon
    # - Battle Master
    # - Way of Shadow
    # - Oath of Redemption
    # - Gloom Stalker
    # - Thief
    # - Path of the Spirit
    # - Aberrant Mind
    # - Hexblade
    # - School of Abjuration
    #
    # Required.
    #
    subclass: Alchemist

    #
    # Class level.
    # 0 for civilian.
    #
    # Required.
    # Integer.
    #
    level: 6

    #
    # Alignments (case insensitive):
    # - lawful good
    # - lawful neutral
    # - lawful evil
    # - neutral good
    # - neutral
    # - neutral evil
    # - chaotic good
    # - chaotic neutral
    # - chaotic evil
    #
    # Required.
    #
    alignment: Neutral Good

    #
    # Alignment tendencies:
    # same as alignment, can be 0 or more.
    #
    # Optional.
    #
    tendencies:
    - N/A

    #
    # Languages the character speaks
    # (human, dwarvish, etc).
    #
    # We should use whatever the D & D language names
    # are (dwarvish / dwarven / dwarfish / whatever).
    #
    # Anybody want to list the D & D languages here as examples?
    #
    # 0 o more.  (I.e. optional, but most characters speak at least 1.)
    #
    languages:
    - Draconic
    - Common
    - Gnomish
    - Dwarvish

    #
    # Factions:
    # These should be ids of factions (similar YAML file format, eventually).
    # For example:
    #
    # factions:
    # - id: thieves_guild_of_poliwood
    #   name: Thieves Guild of Poliwood
    #   role: Associate Professor of Lockpicking
    # - id: union_of_seamstresses
    #   name: Union of Seamstresses
    #   role: Window dressing    # - id: cult_of_sky_anthologies
    #   name: Cult of Sky Anthologies
    #   role: Going Clear Sky pastor
    #
    # Optional.  0 or more.
    #
    factions:
    - id: Collegium_Imaginata
      name: Collegium Imaginata
      role: Alchemist
    - id: diplomats_of_daron_garr
      name: Diplomats of Daron-Garr

    #
    # Adjectives or other tags that can be used for searching.
    #
    # Optional.  0 or more.
    #
    adjectives:
    - Bubbly
    - Curious
    - Dedicated

  improv:

    #
    # Introduction:
    # A block of text the DM can read out to the party.
    # A hooded dwarf darts in front of your party and blows a loud, shrill whistle, splitting your ears, before he runs away laughing.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    introduction:  With her fervent work ethic, Eleanorious will set up a stand in the market or even outside of an inn or tavern. She lugs a small cart with her alchemy set and sales stand everywhere she goes. A party can run into her just about anywhere trying to sell her tinctures, lotions, potions, and ointments.

    #
    # Appearance: a brief description of the character skin, clothes, hair, eyes, etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    appearance:   A small feminine copper dragonborn with unusual horns and scales that glitter; dresses very flambouyantly, with tapestry-like cloaks and capes that flow over her limbs and tumble to the floor

    #
    # Expressions: things the character says all the time, making their speech distinctive.
    # Like, oh my gods!
    # Detritus!
    # Whoah
    # Silly goose
    # etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    expressions:
    - "Mix and match, there's a good batch!"
    - "Tinctures and solvents beat diplomacy every time"

    #
    # Mannerisms: what does the character do with their hands?  And eyes, mouth, etc.
    # Do they tap their feet incessantly?  sniff their own underarms to figure out where the odour
    # is coming from?  Etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    mannerisms:   Flamboyant and dramatic gestures; Smiles and laughs often; Likes to spit small globules of her acid breath into the air and catch it in her mouth with a smile, a "ta-da", and a dramatic gesture;

  acting:
    #
    # Motivations:
    #
    # Required.
    # ???Maximum length???
    #
    motivations: |
      To promote the power and instrumentality of alchemy as a solution to everything from poverty and hunger to disease and even death itself

    #
    # Passions:
    #
    # Required.
    # ???Maximum length???
    #
    passions: |
      Alchemy; Draconic origins; Languages of all kinds;

    #
    # Vulnerabilities:
    #
    # Required.
    # ???Maximum length???
    #
    vulnerabilities: |
      N/A

    #
    # Secrets:
    #
    # Required.
    # ???Maximum length???
    #
    secrets: | 
      N/A

  #
  # The D & D stats block:
  # All integers.
  #
  stats:
    armour-class: 10
    hit-points: 28
    speed: 30
    str: 9
    dex: 10
    con: 15
    int: 17
    wis: 13
    cha: 15

  #
  # Special characteristics.
  #
  # Each is:
  # ???Optional???
  # ???Max length???
  #
  specialties:
    saving-throws:
    - Constitution
    - Intelligence
    damage-immunities:
    - N/A
    condition-immunities:
    - N/A
    resistances:
    - Acid
    skills:
    - Herbalism
    proficiencies:
    - Arcana
    - Alchemy
    - Deception    
    - Nature
    - Medicine
    - Herbalism Kit
    - Tinker's Tools
    - Alchemist's Supplies
  special-abilities:
  - title: Metallic Dragonborn Abilities
  - abilities: 
    - title: Breath Weapon
    - content: When you take the Attack action on your turn, you can replace one of your attacks with an exhalation of Acid in a 15-foot cone. Each creature in that area must make a Dexterity saving throw 
               (DC = 8 + your Constitution modifier + your proficiency bonus). On a failed save, the creature takes 1d10 Acid damage. On a successful save, it takes half as
               much damage. This damage increases by 1d10 when you reach 5th level (2d10), 11th level (3d10), and 17th level (4d10).
    - title: Draconic Resistance
    - content: You have resistance to Acid
    - title: Metallic Breath Weapon
    - content: At 5th level, you gain a second breath weapon. When you take the Attack action on your turn, you can replace one of your attacks with an exhalation in a 15-foot cone. The save DC for this breath
               is 8 + your Constitution modifier + your proficiency bonus. Whenever you use this trait, choose one
               Enervating Breath - Each creature in the cone must succeed on a Constitution saving throw or become incapacitated until the start of your next turn.
               Repulsion Breath - Each creature in the cone must succeed on a Strength saving throw or be pushed 20 feet away from you and be knocked prone.
               Once you use your Metallic Breath Weapon, you can’t do so again until you finish a long rest.
  - title: Artificer Abilities
  - abilities:
    - title: Magical Tinkering
    - content: Can invest a spark of magic into mundane objects with a touch - Bright Light, Record Message, Record Sound or Odor, Create Picture or Text
    - title: Artificer Spellcasting 
    - content: Requires Tinker's Tools as Spellcasting focus
    - title: Spell DC
    - content: 15
    - title: Cantrip
    - content: Mage Hand, Mending 
    - title: 1st Level
    - content: Caustic Brew, Detect Magic, Grease, Cure Wounds
    - title: 2nd Level
    - content: Continual Flame, Heat Metal
    - title: Infuse Item
    - content: Imbue mundane items with magical infusions, turnig them into magic items. Can attune to that item immediately,
    - title: Infusions Known
    - content: 6
    - title: The Right Tool for the Job
    - content: Can produce any set of artisan's tools with 1 hour work
    - title: Tool Expertise
    - content: Smith's Tool proficiency bonus is doubled
  - title: Alchemist Abilities
  - abilities: 
    - title: Spellcasting
    - abilities:
    - title: Spell DC
    - content: 15
    - title: 3rd Level
    - content: Healing Word, Ray of Sickness
    - title: 5th Level
    - content: Flaming Sphere, Acid Arrow
    - content: whenever you finish a long rest, you can magically produce an experimental elixir in an empty flask you touch. Roll on the Experimental Elixir table for the elixir's effect, which is triggered when 
               someone drinks the elixir. As an action, a creature can drink the elixir or administer it to an incapacitated creature. You can create additional experimental elixirs by expending a spell slot of 
               1st level or higher for each one. When you do so, you use your action to create the elixir in an empty flask you touch, and you choose the elixir's effect from the Experimental Elixir table. 
               Creating an experimental elixir requires you to have alchemist supplies on your person, and any elixir you create with this feature lasts until it is drunk or until the end of your next long rest. 
               When you reach certain levels in this class, you can make more elixirs at the end of a long rest; two at 6th level and three at 15th level. Roll for each elixir's effect separately. Each elixir 
               requires its own flask.
               d6     Effect
                1     Healing - The drinker regains a number of hit points equal to 2d4 + your Intelligence Modifier
                2     Swiftness - The drinker's walking speed increases by 10 feet for 1 hour.
                3     Resilience - The drinker gains a +1 bonus to AC for 10 minutes.
                4     Boldness - The drinker can roll a d4 and add the number rolled to every attack roll and saving throw they make for the next minute.
                5     Flight - The drinker gains a flying speed of 10 feet for 10 minutes.
                6     Transformation - The drinker's body is transformed as if by the Alter Self spell. The drinker determines the transformation caused by the spell, the effects of which last for 10 minutes.
    - title: Alchemical Savant
    - content: You've developed masterful command of magical chemicals, enhancing the healing and damage you create through them. Whenever you cast a spell using your alchemist's supplies as the spellcasting focus, 
               you gain a bonus to one roll of the spell. That roll must restore hit points or be a damage roll that deals acid, fire, necrotic, or poison damage, and the bonus equals your Intelligence modifier 
               (minimum of +1). 
   
  - title: Attacks
  - content: 1 attack with Sickle
  - title: Combat Tactics
  - content: She will keep distance as best as she can and use any kinds spell attacks

                                                                   
  profile:

    #
    # Background story:
    # The long form character development.
    #
    # Required.
    # No length limit for now.
    #
    background-story: |
      Eleanorious hails from a regal clan of golden Dragonborn who have integrated themselves well into the ruling population of the region. The Murr family, especially, have developed meaningful emotional and economic
      relationships within Xhontapys [Major Trade City] and positioned themselves well as purveyors of finer goods within its trade nexus. With a knack for measuring volumes by eye and comprehending chemical reactions
      prior to mixing ingredients, Eleanorious trained with various local phylacteries and alchemists to learn this remarkable trade. She has become well-known for her expertise as well as her pleasant personality, fine
      work-ethic, and her good fashion sense.

    #
    # Personality (or something like that):
    # Expand on the introduction, appearance, expressions, mannerisms, etc.
    # without any length limits.
    #
    # Required.
    # No length limit for now.
    #
    personality: |
      A small feminine copper dragonborn with unusual horns and scales that glitter; dresses very flambouyantly, with tapestry-like cloaks and capes that flow over her limbs and tumble to the floor
  