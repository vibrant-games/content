#
# Vibrant Games NPC file format.
#
# For long fields, we should be able to embed <html-tag>...</html-tag>s,
# if everyone is cool with that approach.  OR we could use markdown instead.
#
# HTML requires more discipline -- we need to come up with a CSS stylesheet,
# and stick to using the styles defined in our stylesheet.  Markdown is
# simpler, because we can convert and automagically apply the stylesheet.
#
# Long fields are of the form:
#
#     field: |
#       TEMPLATE
#       MORE TEMPLATE
#
# For example, with HTML tags:
#
#     field: |
#       <p> Gorbonzonger the goblin is a very bad goblin.
#       He likes to beat up kobolds. </p>
#       <p class="small"> Kobolds deserve it, anyway. </p>
#       <p> Gorbonzonger has an amulet made of camphor
#       and a very long shopping list that contains many
#       items, some very few of which include: </p>
#       <ul>
#       <li> toilet paper </li>
#       <li> broccoli </li>
#       </ul>
#
# Or with Markdown:
#
#     field: |
#       Gorbonzonger the goblin is a very bad goblin.  He likes to beat up kobolds.
#       Kobolds deserve it, anyway.
#       Gorbonzonger has an amulet made of camphor and a very long shopping list that contains many items, some very few of which include:
#       - toilet paper
#       - broccoli
#
# (There might be other formatting systems worth considering, too!)
#

#
# Currently there is no schema for this template.
# It will take some time to create a validating schema, so that,
# for example, many fields are optional, but some fields are
# required; enumerated fields are only allowed to have certain
# values; and so on.
#
# Once the validating schema is created (probably using
# Open API syntax, unless anyone has any preferences), we'll
# be able to validate submissions and accept / reject if we choose.
#
# Also the validating file format is the ONLY place we do
# content validation.  The database and user interface remain
# agnostic to the validation rules (although the submission
# UI will be set up to make it easy to e.g. pull down enumerated
# values).  This allows us to change the schema in ONE PLACE
# ONLY, not have to modify multiple components (UI, database,
# future mobile apps, etc).  The file format validator is
# the arbiter of what's allowed and what isn't.
#

#
# Template NPC:
#

---

#
# Preliminary fields that describe this overall file:
#
kind: vibrantgames.ca/npc
version: 0.0.2

#
# Information about who submitted the data, when, how, etc.:
#
metadata:
  #
  # A unique identified for this submission.
  # Eventually auto-generated.
  # For now, I suggest: convert the character name to lower case,
  # and replace all spaces and punctuation with underscores (_)
  #
  id: corrora_lillithium

  #
  # The name of the submitter (your name).
  #
  author: Mike Rigby

  #
  # Email address of the submitter.
  #
  email: rigbyma@hotmail.com

  #
  # Date the NPC was created.
  # Must be in ISO 8601 format.
  # You can include the time if you want.
  #
  # E.g. "2021-12-31"
  #      "2021-12-31 23:59:59"
  #
  date: "2021-05-16"

  #
  # Arbitrary labels that are opaque to the system, only
  # potentially useful to humans.  For example, the original
  # WordPress id of a character (1234 etc).
  #
  # Optional.
  #
  labels:
  - label_template_1: TEMPLATE
  - label_template_2: TEMPLATE
  - label_template_3: TEMPLATE

  #
  # In future more metadata will likely be needed.
  # How the data was submitted, some kind of digital
  # signature giving Vibrant Games license to basically
  # use the content however it chooses, etc...
  #

#
# The content:
#
npc:
  #
  # Full name of the NPC.
  #
  # Required.
  # Max length: ...
  #
  name: Corrora Lillithium

  #
  # The NPC artwork.
  # Comment out this field if it does not yet exist.
  # The filename can include a RELATIVE path:
  #     path/to/my/image.jpg
  # But it CANNOT be an absolute path:
  #     C:\path\to\my\image.jpg
  # For now let us keep all images in one directory,
  # at least until that becomes a scaling nightmare.
  #
  image: TEMPLATE_McTEMPLATESON.jpg

  #
  # Race, class, etc.
  # The taupe block on the left of the page.
  #
  traits:

    #
    # Ages (case insensitive):
    #   - child
    #   - adolescent
    #   - young adult
    #   - middle aged adult
    #   - older adult
    #   - elderly
    #
    # Required.
    #
    age: Young Adult

    #
    # Races (case insensitive):
    #   - dragonborn
    #   - drow
    #   - dwarf
    #   - duergar
    #   - elf
    #   - gnome
    #   - half-elf
    #   - halfling
    #   - half-orc
    #   - human
    #   - orc
    #   - tiefling
    #
    # Any other race is allowed, too.
    #
    # Required.
    # Max length: ...
    #
    race: Half-Elf

    #
    # The sub-race can be anything.
    # For example, swamp gnome or red elf etc.
    #
    # Optional.  Can be commented out.
    # Max length: ...
    #
    sub-race: N/A

    #
    # Pronouns (case insensitive):
    # - he/him
    # - she/her
    # - they/them
    #
    # Required.
    #
    pronouns: he/him

    #
    # Occupation(s).
    #
    # Required.
    # Max length per occupation: ...
    #
    occupation:
    - Explorer
    

    #
    # D & D classes (case insensitive):
    # - civilian
    # - artificer
    # - barbarian
    # - bard
    # - blood hunter
    # - cleric
    # - druid
    # - fighter
    # - monk
    # - paladin
    # - ranger
    # - rogue
    # - shaman
    # - sorcerer
    # - warlock
    # - wizard
    #
    # Required.
    #
    class: Cleric

    #
    # D & D subclasses (case insensitive):
    # - civilian
    # - alchemist
    # - Path of the Berserker
    # - College of Lore
    # - Order of the Profane Soul
    # - Grave Domain
    # - Cirlce of the Moon
    # - Battle Master
    # - Way of Shadow
    # - Oath of Redemption
    # - Gloom Stalker
    # - Thief
    # - Path of the Spirit
    # - Aberrant Mind
    # - Hexblade
    # - School of Abjuration
    #
    # Required.
    #
    subclass: Arcana Domain

    #
    # Class level.
    # 0 for civilian.
    #
    # Required.
    # Integer.
    #
    level: 8

    #
    # Alignments (case insensitive):
    # - lawful good
    # - lawful neutral
    # - lawful evil
    # - neutral good
    # - neutral
    # - neutral evil
    # - chaotic good
    # - chaotic neutral
    # - chaotic evil
    #
    # Required.
    #
    alignment: Neutral Good

    #
    # Alignment tendencies:
    # same as alignment, can be 0 or more.
    #
    # Optional.
    #
    tendencies:
    - N/A

    #
    # Languages the character speaks
    # (human, dwarvish, etc).
    #
    # We should use whatever the D & D language names
    # are (dwarvish / dwarven / dwarfish / whatever).
    #
    # Anybody want to list the D & D languages here as examples?
    #
    # 0 o more.  (I.e. optional, but most characters speak at least 1.)
    #
    languages:
    - Elvish
    - Common
    - Infernal
    - Sylvan

    #
    # Factions:
    # These should be ids of factions (similar YAML file format, eventually).
    # For example:
    #
    # factions:
    # - id: thieves_guild_of_poliwood
    #   name: Thieves Guild of Poliwood
    #   role: Associate Professor of Lockpicking
    # - id: union_of_seamstresses
    #   name: Union of Seamstresses
    #   role: Window dressing    # - id: cult_of_sky_anthologies
    #   name: Cult of Sky Anthologies
    #   role: Going Clear Sky pastor
    #
    # Optional.  0 or more.
    #
    factions:
    - id: house_lillithium_minor_nobles
      name: House Lillithium - minor nobles
      role: 2nd Heir
    - id: south_east_exploration_kompany_guild
      name: South East Exploration Kompany - guild
      role: Explorer

    #
    # Adjectives or other tags that can be used for searching.
    #
    # Optional.  0 or more.
    #
    adjectives:
    - brave
    - haunted
    - sarcastic

  improv:

    #
    # Introduction:
    # A block of text the DM can read out to the party.
    # A hooded dwarf darts in front of your party and blows a loud, shrill whistle, splitting your ears, before he runs away laughing.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    introduction:  Corrora Lillitium at your service. Corrora can be found exploring the South East frontier of Yakahe surrounding towns

    #
    # Appearance: a brief description of the character skin, clothes, hair, eyes, etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    appearance:   Searly 6 ft tall, muscular, brown skin and blonde cornrows. Eyes that burn with pain

    #
    # Expressions: things the character says all the time, making their speech distinctive.
    # Like, oh my gods!
    # Detritus!
    # Whoah
    # Silly goose
    # etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    expressions:  "May Lenterra give me patience, because if she gives me strength, I will bash your skull in"

    #
    # Mannerisms: what does the character do with their hands?  And eyes, mouth, etc.
    # Do they tap their feet incessantly?  sniff their own underarms to figure out where the odour
    # is coming from?  Etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    mannerisms:   Reads voraciously. Argues trivial, academic points

  acting:
    #
    # Motivations:
    #
    # Required.
    # ???Maximum length???
    #
    motivations: |
      Stop the nightmares that plague him and control an affliction where his ancestors' spirits to take over his body
      
    #
    # Passions:
    #
    # Required.
    # ???Maximum length???
    #
    passions: |
      N/A
      
    #
    # Vulnerabilities:
    #
    # Required.
    # ???Maximum length???
    #
    vulnerabilities: |
      N/A
      
    #
    # Secrets:
    #
    # Required.
    # ???Maximum length???
    #
    secrets: N/A
       
      
  #
  # The D & D stats block:
  # All integers.
  #
  stats:
    armour-class: 18
    hit-points: 57
    speed: 30
    str: 15
    dex: 12
    con: 16
    int: 12 
    wis: 18
    cha: 10

  #
  # Special characteristics.
  #
  # Each is:
  # ???Optional???
  # ???Max length???
  #
  specialties:
    saving-throws:
    - Constitution
    - Wisdom
    damage-immunities:
    - Necrotic
    condition-immunities:
    - Frightened, Charmed, Poisoned, Stunned
    resistances:
    - Fire, Poison, Cold, Lightning
    skills:
    - Leatherworking
    proficiencies:
    - Arcana
    - Perception
    - Insight    
    - History
    - Persuasion
  special-abilities:
  - title: Half-Elf Abilities
  - abilities: 
    - title: Fey Ancestry
    - content: Advantage on saving throws againts charm and immune to sleep magic
    - title: Darkvision
    - content: Can see in dim light within 60 feet of you as if it were bright light, and in darkness as if it were dim light. You can't discern color in darkness, only shades of gray 
    - title: Mask of the Wild
    - content: Can attempt to hide even when only lightly obscured by natural phenomenon 
  - title: Cleric Abilities
  - abilities:
  - title: Cleric Spellcasting
  - abilities: 
    - title: Spell DC
    - content: 15
    - title: Cantrips
    - content:  Guidance, Sacred Flame, Mending, Sacred Flame
    - title: 1st Level
    - content: Bane, Bless, Guiding Bolt, Healing Word
    - title: 2nd Level
    - content: Hold Person, Spiritual Weapon, Prayer of Healing
    - title: 3rd Level
    - content: Spirit Guardians, Speak with Dead, Sending
    - title: 4th Level
    - content: Banishment, Death Ward
  - title: Channel Divinity
  - abilities:    
    - title: Turn Undead
    - content: As an action, you present your holy Symbol and speak a prayer censuring the Undead. Each Undead that can see or hear you within 30 feet of you must make a Wisdom saving throw. If the creature fails its saving 
               throw, it is turned for 1 minute or until it takes any damage. A turned creature must spend its turns trying to move as far away from you as it can, and it can't willingly move to a space within 30 feet of you. 
               It also can't take Reactions. For its action, it can use only the Dash action or try to Escape from an Effect that prevents it from moving. If there's nowhere to move, the creature can use the Dodge action.    
    - title: Destroy Undead
    - content: Starting at 5th Level, when an Undead of CR 1/2 or lower fails its saving throw against Your Turn Undead feature, the creature is instantly destroyed. 
  - title: Arcana Domain Abilities
  - abilities: 
    - title: Spellcasting
    - abilities:
    - title: Spell DC
    - content: 15
    - title: 1st Level
    - content: Detect Magic, Magic Missle
    - title: 3rd Level
    - content: Magic Weapon, Nystul's Magic Aura
    - title: 5th Level
    - content: Dispel Magic, Magic Circle
    - title: 7th Level
    - content: Arcane Eye, Leomund's Secret Chest
    - title: Channel Divinity - Arcane Abjuration
    - content: As an action, you present your holy symbol, and one celestial, elemental, fey, or fiend of your choice that is within 30 feet of you must make a Wisdom saving throw, provided 
               that the creature can see or hear you. If the creature fails its saving throw, it is turned for 1 minute or until it takes any damage. A turned creature must spend its turns 
               trying to move as far away from you as it can, and it can't willingly end its move in a space within 30 feet of you. It also can't take reactions. For its action, it can only 
               use the Dash action or try to escape from an effect that prevents it from moving. If there's nowhere to move, the creature can use the Dodge action. After you reach 5th level, 
               when a creature fails its saving throw against your Arcane Abjuration feature, the creature is banished for 1 minute (as in the Banishment spell, no concentration required) if 
               it isn't on its plane of origin and its challenge rating is at or below a certain threshold, as shown on the Arcane Banishment table.    
    - title: Spell Breaker
    - content: When you restore hit points to an ally with a spell of 1st level or higher, you can also end one spell of your choice on that creature. The level of the spell you end must be equal to or lower than 
               the level of the spell slot you use to cast the healing spell
    - title: Potent Spellcasting
    - content: Add your Wisdom modifier to the damage you deal with any cleric cantrip.
    - title: Feats
    - content: War Caster, Sharpshooter
    - title: Berserker Ancestors
    - contnet: When Corrora is reduced to half of his hitpoints in a battle, there is a 1 in 10 chance that his body will be taken over by the spirit of one of his ancestors, temporarily increasing his strength,
               dexterity, and constitution to 18, adding 40 temporary hit points, entering a rage state, and removing his spellcasting capabilities. Corrora makes a Charisma saving throw at the end of each round.
               A success allows him to regain control of his body 

  - title: Attacks
  - content: 1 Attack with a spell or Dawnbringer
  - title: Combat Tactics
  - content: Corrora prefers to use his arsenal of ranged attack spells whenever possible. As a war caster, he is able to carry his shield and either a war hammer or longsword to defend himself from enemies who get too close
             Corrora will be the first to rush to the aid of fallen allies. He'll drag them to safety and use his healing spells to save them

  - title: Special Equipment
  - abilities:
    - title: Sun Blade named Dawnbringer
    - content: This item appears to be a Longsword hilt. While grasping the hilt, you can use a Bonus Action to cause a blade of pure Radiance to spring into existence, or make the blade disappear. While the blade exists, this
               magic Longsword has the Finesse property. If you are proficient with shortswords or longswords, you are proficient with the sun blade.
               You gain a +2 bonus to Attack and Damage Rolls made with this weapon, which deals radiant damage instead of slashing damage. When you hit an Undead with it, that target takes an extra 1d8 radiant damage.
    - title: Warhammer of Warning
    - content: This magic weapon warns you of danger. While the weapon is on your person, you have advantage on initiative rolls. In addition, you and any of your companions within 30 feet of you can’t be surprised, except when 
               incapacitated by something other than nonmagical sleep. The weapon magically awakens you and your companions within range if any of you are sleeping naturally when combat begins.


  profile:

    #
    # Background story:
    # The long form character development.
    #
    # Required.
    # No length limit for now.
    #
    background-story: |
      The son of Yakahe's human ambassador to the High-Elves of Silverleaf and a Elven diplomat, Corrora had it all as a child and young man. Intelligent and athletic, he excelled on the training field and under the tutelage of 
      the local sages who taught the children of minor Nobles in his home; the city of Baraithton. As an adolescent, Corrora began to have extremely vivid nightmares of himself committing terrible, violent acts. The nightmares 
      progressed to the point where the previously gregarious nobleman's son turned sullen and dour. The lack of sleep caused him to be irritable, constantly snapping at his family, his tutors, and his friends. The feeling of 
      isolation only made the problem worse. The nightmares because more violent, more vivid, and more frequent the more withdrawn he became. One day the nightmares became reality. A skirmish with his younger brother, Yarith 
      ended in bloodshed. While wrestling, Corrora blacked out. When he came to his senses, he was holding a sharpened shard of rock with his Yarith's blood dripping from it and his brother's limp body beneath him. Dropping the 
      stone in horror, Corrora was touched by the Goddess Lenterra (Goddess of arcane knowledge) for the first time. He could feel her hand reaching through him as he cradled his Yarith's head in his lap. A soft glowing light 
      encompassed them both. And, Yarith breathed. That night, and for several nights after, Corrora had the same dream: he was floating above his body watching as his eyes became red with a hint of flickering fire followed by 
      him reaching for a rock and slashing Yarith's throat with it. This was not the last time something like this happened to Corrora. At the suggestion of Lenterra, Corrora began to deepen his study of the arcane and religion 
      in search of a cure for his condition. His natural curiosity lent itself to him becoming a renowned expert in arcane and ancient religious phenomenon. This research led him to discover that the Elvish side of his heritage 
      held some deep ancient secrets. A number of his ancestors had committed despicable acts millenia ago. The acts they committed were the very acts he dreams about so vividly. The ancestors were the very ancestors who's 
      spirits overcame his body when under too much stress from imminent danger. Corrora is constantly in search of a way to rid himself from his ancestor's curse. This search is what originally brought him to Eberston and the 
      Yakahe frontier far from his family.

    #
    # Personality (or something like that):
    # Expand on the introduction, appearance, expressions, mannerisms, etc.
    # without any length limits.
    #
    # Required.
    # No length limit for now.
    #
    personality: |
      nearly 6 ft tall, muscular, brown skin and blonde cornrows. eyes that burn with pain

