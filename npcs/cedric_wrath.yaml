#
# Vibrant Games NPC file format.
#
# For long fields, we should be able to embed <html-tag>...</html-tag>s,
# if everyone is cool with that approach.  OR we could use markdown instead.
#
# HTML requires more discipline -- we need to come up with a CSS stylesheet,
# and stick to using the styles defined in our stylesheet.  Markdown is
# simpler, because we can convert and automagically apply the stylesheet.
#
# Long fields are of the form:
#
#     field: |
#       TEMPLATE
#       MORE TEMPLATE
#
# For example, with HTML tags:
#
#     field: |
#       <p> Gorbonzonger the goblin is a very bad goblin.
#       He likes to beat up kobolds. </p>
#       <p class="small"> Kobolds deserve it, anyway. </p>
#       <p> Gorbonzonger has an amulet made of camphor
#       and a very long shopping list that contains many
#       items, some very few of which include: </p>
#       <ul>
#       <li> toilet paper </li>
#       <li> broccoli </li>
#       </ul>
#
# Or with Markdown:
#
#     field: |
#       Gorbonzonger the goblin is a very bad goblin.  He likes to beat up kobolds.
#       Kobolds deserve it, anyway.
#       Gorbonzonger has an amulet made of camphor and a very long shopping list that contains many items, some very few of which include:
#       - toilet paper
#       - broccoli
#
# (There might be other formatting systems worth considering, too!)
#

#
# Currently there is no schema for this template.
# It will take some time to create a validating schema, so that,
# for example, many fields are optional, but some fields are
# required; enumerated fields are only allowed to have certain
# values; and so on.
#
# Once the validating schema is created (probably using
# Open API syntax, unless anyone has any preferences), we'll
# be able to validate submissions and accept / reject if we choose.
#
# Also the validating file format is the ONLY place we do
# content validation.  The database and user interface remain
# agnostic to the validation rules (although the submission
# UI will be set up to make it easy to e.g. pull down enumerated
# values).  This allows us to change the schema in ONE PLACE
# ONLY, not have to modify multiple components (UI, database,
# future mobile apps, etc).  The file format validator is
# the arbiter of what's allowed and what isn't.
#

#
# Template NPC:
#

---

#
# Preliminary fields that describe this overall file:
#
kind: vibrantgames.ca/npc
version: 0.0.2

#
# Information about who submitted the data, when, how, etc.:
#
metadata:
  #
  # A unique identified for this submission.
  # Eventually auto-generated.
  # For now, I suggest: convert the character name to lower case,
  # and replace all spaces and punctuation with underscores (_)
  #
  id: Cedric_Wrath

  #
  # The name of the submitter (your name).
  #
  author: Mike Rigby

  #
  # Email address of the submitter.
  #
  email: rigbyma@hotmail.com

  #
  # Date the NPC was created.
  # Must be in ISO 8601 format.
  # You can include the time if you want.
  #
  # E.g. "2021-12-31"
  #      "2021-12-31 23:59:59"
  #
  date: "2021-03-25"

  #
  # Arbitrary labels that are opaque to the system, only
  # potentially useful to humans.  For example, the original
  # WordPress id of a character (1234 etc).
  #
  # Optional.
  #
  labels:
  - label_template_1: TEMPLATE
  - label_template_2: TEMPLATE
  - label_template_3: TEMPLATE

  #
  # In future more metadata will likely be needed.
  # How the data was submitted, some kind of digital
  # signature giving Vibrant Games license to basically
  # use the content however it chooses, etc...
  #

#
# The content:
#
npc:
  #
  # Full name of the NPC.
  #
  # Required.
  # Max length: ...
  #
  name: Cedric Wrath

  #
  # The NPC artwork.
  # Comment out this field if it does not yet exist.
  # The filename can include a RELATIVE path:
  #     path/to/my/image.jpg
  # But it CANNOT be an absolute path:
  #     C:\path\to\my\image.jpg
  # For now let us keep all images in one directory,
  # at least until that becomes a scaling nightmare.
  #
  image: TEMPLATE_McTEMPLATESON.jpg

  #
  # Race, class, etc.
  # The taupe block on the left of the page.
  #
  traits:

    #
    # Ages (case insensitive):
    #   - child
    #   - adolescent
    #   - young adult
    #   - middle aged adult
    #   - older adult
    #   - elderly
    #
    # Required.
    #
    age: Middle Aged Adult

    #
    # Races (case insensitive):
    #   - dragonborn
    #   - drow
    #   - dwarf
    #   - duergar
    #   - elf
    #   - gnome
    #   - half-elf
    #   - halfling
    #   - half-orc
    #   - human
    #   - orc
    #   - tiefling
    #
    # Any other race is allowed, too.
    #
    # Required.
    # Max length: ...
    #
    race: Human

    #
    # The sub-race can be anything.
    # For example, swamp gnome or red elf etc.
    #
    # Optional.  Can be commented out.
    # Max length: ...
    #
    sub-race: N/A

    #
    # Pronouns (case insensitive):
    # - he/him
    # - she/her
    # - they/them
    #
    # Required.
    #
    pronouns: he/him

    #
    # Occupation(s).
    #
    # Required.
    # Max length per occupation: ...
    #
    occupation:
    - Manic Street Preacher

    #
    # D & D classes (case insensitive):
    # - civilian
    # - artificer
    # - barbarian
    # - bard
    # - blood hunter
    # - cleric
    # - druid
    # - fighter
    # - monk
    # - paladin
    # - ranger
    # - rogue
    # - shaman
    # - sorcerer
    # - warlock
    # - wizard
    #
    # Required.
    #
    class: Cleric

    #
    # D & D subclasses (case insensitive):
    # - civilian
    # - alchemist
    # - Path of the Berserker
    # - College of Lore
    # - Order of the Profane Soul
    # - Grave Domain
    # - Cirlce of the Moon
    # - Battle Master
    # - Way of Shadow
    # - Oath of Redemption
    # - Gloom Stalker
    # - Thief
    # - Path of the Spirit
    # - Aberrant Mind
    # - Hexblade
    # - School of Abjuration
    #
    # Required.
    #
    subclass: Trickery Domain

    #
    # Class level.
    # 0 for civilian.
    #
    # Required.
    # Integer.
    #
    level: 8

    #
    # Alignments (case insensitive):
    # - lawful good
    # - lawful neutral
    # - lawful evil
    # - neutral good
    # - neutral
    # - neutral evil
    # - chaotic good
    # - chaotic neutral
    # - chaotic evil
    #
    # Required.
    #
    alignment: Chaotic Neutral

    #
    # Alignment tendencies:
    # same as alignment, can be 0 or more.
    #
    # Optional.
    #
    tendencies:
    - N/A

    #
    # Languages the character speaks
    # (human, dwarvish, etc).
    #
    # We should use whatever the D & D language names
    # are (dwarvish / dwarven / dwarfish / whatever).
    #
    # Anybody want to list the D & D languages here as examples?
    #
    # 0 o more.  (I.e. optional, but most characters speak at least 1.)
    #
    languages:
    - Common
    - Infernal
    - Abyssal

    #
    # Factions:
    # These should be ids of factions (similar YAML file format, eventually).
    # For example:
    #
    # factions:
    # - id: thieves_guild_of_poliwood
    #   name: Thieves Guild of Poliwood
    #   role: Associate Professor of Lockpicking
    # - id: union_of_seamstresses
    #   name: Union of Seamstresses
    #   role: Window dressing
    # - id: cult_of_sky_anthologies
    #   name: Cult of Sky Anthologies
    #   role: Going Clear Sky pastor
    #
    # Optional.  0 or more.
    #
    factions:
    - id: Dumas_Family
      name: Dumas Family
      role: Recruiter and Information Gathering

    #
    # Adjectives or other tags that can be used for searching.
    #
    # Optional.  0 or more.
    #
    adjectives:
    - Fiery
    - Zealous
    - Deluded

  improv:

    #
    # Introduction:
    # A block of text the DM can read out to the party.
    # A hooded dwarf darts in front of your party and blows a loud, shrill whistle, splitting your ears, before he runs away laughing.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    introduction:  Git yee right wit yer Gods ya heathens!, shouts the fiery red-faced oddly preacher from his street side podium

    #
    # Appearance: a brief description of the character skin, clothes, hair, eyes, etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    appearance:  Short and stocky with a fiery red beard and crazy mop of hair, chain armor and laden with holy symbols to random gods

    #
    # Expressions: things the character says all the time, making their speech distinctive.
    # Like, oh my gods!
    # Detritus!
    # Whoah
    # Silly goose
    # etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    expressions:
    - "Tha Old God's er a comin back and will wipe tha world o ya filthy heathen curs!"
    - "Git yee right wit yer Gods!"

    #
    # Mannerisms: what does the character do with their hands?  And eyes, mouth, etc.
    # Do they tap their feet incessantly?  sniff their own underarms to figure out where the odour
    # is coming from?  Etc.
    #
    # Required.
    # Max 120 characters.
    #
    # Use this as a template:
    #             |----------------------------------------------------------------------------------------------------------------------|
    #
    mannerisms:  spits and gesticulates wildly when he sermonizes

  acting:
    #
    # Motivations:
    #
    # Required.
    # ???Maximum length???
    #
    motivations: |
      Salvation, 

    #
    # Passions:
    #
    # Required.
    # ???Maximum length???
    #
    passions: |
      Spreading the word of his lord

    #
    # Vulnerabilities:
    #
    # Required.
    # ???Maximum length???
    #
    vulnerabilities: |
      Slightly mad

    #
    # Secrets:
    #
    # Required.
    # ???Maximum length???
    #
    secrets: |
      Was sent by his god, Cyric, to help in the ascention of the Dumas Family patron as part of his overall plan to throw the cosmos into chaos

  #
  # The D & D stats block:
  # All integers.
  #
  stats:
    armour-class: 19
    hit-points: 76
    speed: 30
    str: 13
    dex: 13
    con: 16
    int: 14
    wis: 18
    cha: 17

  #
  # Special characteristics.
  #
  # Each is:
  # ???Optional???
  # ???Max length???
  #
  specialties:
    saving-throws:
    - Constitution
    - Intelligence
    damage-immunities:
    - Necrotic
    condition-immunities:
    - Frightened, Charmed, Poisoned, Stunned
    resistances:
    - Fire, Poison, Cold, Lightning
    skills:
    - Leatherworking
    proficiencies:
    - Arcana
    - Perception
    - Deception    
    - Intimidation
    - Persuasion
  special-abilities:
  - title: Cleric Abilities
  - abilities:
  - title: Cleric Spellcasting
  - abilities: 
    - title: Spell DC
    - content: 16
    - title: Cantrips
    - content: Guidance, Light, Sacred Flame, Spare the Dying, Shillelagh
    - title: 1st Level
    - content: Bane, Command, Detect Magic, Inflict Wounds
    - title: 2nd Level
    - content: Lesser Restoration, Hold Person, Spiritual Weapon
    - title: 3rd Level
    - content: Animate Dead, Speak with Dead, Clairvoyance
    - title: 4th Level
    - content: Banishment, Stone Shape
  - title: Channel Divinity
  - abilities:    
    - title: Turn Undead
    - content: As an action, you present your holy Symbol and speak a prayer censuring the Undead. Each Undead that can see or hear you within 30 feet of you must make a Wisdom saving throw. If the creature fails its saving 
               throw, it is turned for 1 minute or until it takes any damage. A turned creature must spend its turns trying to move as far away from you as it can, and it can't willingly move to a space within 30 feet of you. 
               It also can't take Reactions. For its action, it can use only the Dash action or try to Escape from an Effect that prevents it from moving. If there's nowhere to move, the creature can use the Dodge action.    
    - title: Destroy Undead
    - content: Starting at 5th Level, when an Undead of CR 1/2 or lower fails its saving throw against Your Turn Undead feature, the creature is instantly destroyed.
  - title: Trickery Domain Abilities
  - abilities: 
    - title: Spellcasting
    - abilities:
    - title: Spell DC
    - content: 16
    - title: 1st Level
    - content: Charm Person, Disguise Self
    - title: 3rd Level
    - content: Mirror Image, Pass Without Trace
    - title: 5th Level
    - content: Blink, Dispel Magic
    - title: 7th Level
    - content: Dimension Door, Polymorph
    - title: Blessing of the Trickster
    - content: You can use your action to touch a willing creature other than yourself to give it advantage on Dexterity (Stealth) checks. This blessing lasts for 1 hour or until you use this feature again.
    - title: Channel Divinity - Invoke Duplicity
    - content: You can use your Channel Divinity to create an illusory duplicate of yourself. As an action, you create a perfect illusion of yourself that lasts for 1 minute, or until you lose your concentration 
               (as if you were concentrating on a spell). The illusion appears in an unoccupied space that you can see within 30 feet of you. As a bonus action on your turn, you can move the illusion up to 30 feet 
               to a space you can see, but it must remain within 120 feet of you. For the duration, you can cast spells as though you were in the illusion's space, but you must use your own senses. Additionally, 
               when both you and your illusion are within 5 feet of a creature that can see the illusion, you have advantage on attack rolls against that creature, given how distracting the illusion is to the target
    - title: Channel Divinity - Cloak of Shadows
    - content: You can use your Channel Divinity to vanish. As an action, you become invisible until the end of your next turn. You become visible if you attack or cast a spell
    - title: Divine Strike
    - content: Once on each of your turns when you hit a creature with a weapon attack, you can cause the attack to deal an extra 1d8 poison damage to the target. When you reach 14th level, the extra damage increases to 2d8.
  - title: Feats
  - content: Actor, Inspiring Leader, Observant, Tavern Brawler, War Caster
  
  - title: Attacks
  - content: His club using the Shillelagh cantrip 
  - title: Combat Tactics
  - content: He will try to talk his way out of fights, but if provoked he's a brawler and will fight with his club, his fists and anything else at his disposal

  - title: Special Equipment
  - abilities:
    - title: +1 Greatclub
    - content: You have a +1 bonus to Attack and Damage Rolls made with this weapon.
    - title: Religious Symbols
    - content: Cedric carries several different religious symbols at any given time

  profile:

    #
    # Background story:
    # The long form character development.
    #
    # Required.
    # No length limit for now.
    #
    background-story: |
      The "Good" Reverend Cedic Wrath is fiery street preacher and cleric of Cyric, the Lord of Lies. He preaches on street corners and in town squares and is generally regarded by people that see him as a bit of a mad man.
      He preaches of the "End Times" and the return of the "Old Gods" and most people do their best to ignore him as they pass. This suits him perfectly well. He has in fact, been sent by his patron Cyric to seek out and
      work with the Dumas Family to help their patron devil achieve his goals. Cedric and his God's ultimate goal is sewing chaos as far and wide as possible. To that end, he acts as a recruiter and information gatherer
      for the family. Those who are interested enough to stop and listen to his rambling sermons are assumed to be open to recruitment to the cause. Otherwise he is an expert set of eyes and ears on the streets keeping an
      eye on the city's comings and goings.

    #
    # Personality (or something like that):
    # Expand on the introduction, appearance, expressions, mannerisms, etc.
    # without any length limits.
    #
    # Required.
    # No length limit for now.
    #
    personality: |
      Cedric Wrath is an agent of chaos, plain and simple. He is a short broad human with flaming red messy hair and a flaming red beard. He wears chainmail armor underneath his clerics vestments which are painted with the
      symbols of a variety of different dieties. The only indication of which god he actually follows is the small symbol of Cyric carved into the head of his greatclub (jawless skull on a purple sunburst). He is a devout
      beleiver in chaos and will do whatever he can to stir up as much trouble as he can, whenever he can for whoever he can. His god's current plan involves him working with the Dumas Family and helping their patron achieve
      their goals, but he is in no way loyal to them in any way, and will have no problem screwing them over when the appropriate time inevitably comes
